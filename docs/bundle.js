(()=>{"use strict";var e={556:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(15),o=n.n(i),r=n(645),a=n.n(r)()(o());a.push([e.id,"html,\nbody {\n  overflow: hidden;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n\ncanvas {\n  -webkit-tap-highlight-color: transparent;\n  border: 1px solid;\n}\n","",{version:3,sources:["webpack://./src/css/main.css"],names:[],mappings:"AAAA;;EAEE,gBAAgB;EAChB,eAAe;EACf,WAAW;EACX,YAAY;EACZ,WAAW;EACX,YAAY;AACd;;AAEA;EACE,wCAAwC;EACxC,iBAAiB;AACnB",sourcesContent:["html,\nbody {\n  overflow: hidden;\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  margin: 0px;\n  padding: 0px;\n}\n\ncanvas {\n  -webkit-tap-highlight-color: transparent;\n  border: 1px solid;\n}\n"],sourceRoot:""}]);const c=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,i){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(i)for(var r=0;r<this.length;r++){var a=this[r][0];null!=a&&(o[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);i&&o[s[0]]||(n&&(s[2]?s[2]="".concat(n," and ").concat(s[2]):s[2]=n),t.push(s))}},t}},15:e=>{function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=function(e){var n,i,o=(i=4,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,o=!1,r=void 0;try{for(var a,c=e[Symbol.iterator]();!(i=(a=c.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){o=!0,r=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw r}}return n}}(n,i)||function(e,n){if(e){if("string"==typeof e)return t(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}(n,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=o[1],a=o[3];if("function"==typeof btoa){var c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),l="/*# ".concat(s," */"),h=a.sources.map((function(e){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(e," */")}));return[r].concat(h).concat([l]).join("\n")}return[r].join("\n")}},118:(e,t,n)=>{n.r(t),n.d(t,{default:()=>a});var i=n(379),o=n.n(i),r=n(556);o()(r.Z,{insert:"head",singleton:!1});const a=r.Z.locals||{}},379:(e,t,n)=>{var i,o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),r=[];function a(e){for(var t=-1,n=0;n<r.length;n++)if(r[n].identifier===e){t=n;break}return t}function c(e,t){for(var n={},i=[],o=0;o<e.length;o++){var c=e[o],s=t.base?c[0]+t.base:c[0],l=n[s]||0,h="".concat(s," ").concat(l);n[s]=l+1;var d=a(h),u={css:c[1],media:c[2],sourceMap:c[3]};-1!==d?(r[d].references++,r[d].updater(u)):r.push({identifier:h,updater:g(u,t),references:1}),i.push(h)}return i}function s(e){var t=document.createElement("style"),i=e.attributes||{};if(void 0===i.nonce){var r=n.nc;r&&(i.nonce=r)}if(Object.keys(i).forEach((function(e){t.setAttribute(e,i[e])})),"function"==typeof e.insert)e.insert(t);else{var a=o(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(t)}return t}var l,h=(l=[],function(e,t){return l[e]=t,l.filter(Boolean).join("\n")});function d(e,t,n,i){var o=n?"":i.media?"@media ".concat(i.media," {").concat(i.css,"}"):i.css;if(e.styleSheet)e.styleSheet.cssText=h(t,o);else{var r=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function u(e,t,n){var i=n.css,o=n.media,r=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleSheet)e.styleSheet.cssText=i;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(i))}}var f=null,p=0;function g(e,t){var n,i,o;if(t.singleton){var r=p++;n=f||(f=s(t)),i=d.bind(null,n,r,!1),o=d.bind(null,n,r,!0)}else n=s(t),i=u.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=(void 0===i&&(i=Boolean(window&&document&&document.all&&!window.atob)),i));var n=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var i=0;i<n.length;i++){var o=a(n[i]);r[o].references--}for(var s=c(e,t),l=0;l<n.length;l++){var h=a(n[l]);0===r[h].references&&(r[h].updater(),r.splice(h,1))}n=s}}}},238:(e,t,n)=>{n(118),(new(n(447).Game)).loop()},332:function(e,t,n){var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(206),t)},206:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var n=function(){function e(e,t,n){this.d=[e,t,n]}return e.prototype.x=function(){return Number.isFinite(this.d[0])?this.d[0]:0},e.prototype.y=function(){return Number.isFinite(this.d[1])?this.d[1]:0},e.prototype.z=function(){return Number.isFinite(this.d[2])?this.d[2]:0},e.prototype.add=function(t){return new e(this.d[0]+t.d[0],this.d[1]+t.d[1],this.d[2]+t.d[2])},e.prototype.sub=function(t){return new e(this.d[0]-t.d[0],this.d[1]-t.d[1],this.d[2]-t.d[2])},e.prototype.multiplyScalar=function(t){return new e(this.d[0]*t,this.d[1]*t,this.d[2]*t)},e.prototype.dotProduct=function(e){return this.d[0]*e.d[0]+this.d[1]*e.d[1]+this.d[2]*e.d[2]},e.prototype.crossProduct=function(t){return new e(this.d[1]*t.d[2]-this.d[2]*t.d[1],this.d[2]*t.d[0]-this.d[0]*t.d[2],this.d[0]*t.d[1]-this.d[1]*t.d[0])},e.prototype.magnitude=function(){return Math.sqrt(this.d[0]*this.d[0]+this.d[1]*this.d[1]+this.d[2]*this.d[2])},e.prototype.angleRadians=function(e){var t=this.dotProduct(e);return t/=this.magnitude()*e.magnitude(),Math.abs(Math.acos(t))},e.prototype.unit=function(){var e=this.magnitude();return this.multiplyScalar(1/e)},e.prototype.valueOf=function(){return this.d},e.prototype.toObject=function(){return{x:this.x(),y:this.y(),z:this.z()}},e.prototype.perpendicular=function(e){return this.crossProduct(e).unit()},e.prototype.set=function(e){this.d[0]=e.d[0],this.d[1]=e.d[1],this.d[2]=e.d[2]},e.prototype.clone=function(){return new e(this.x(),this.y(),this.z())},e}();t.Vector=n},938:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.config=void 0,t.config={width:1280,height:720}},458:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Entity=t.EntityType=void 0;var i,o=n(206);!function(e){e[e.PointCharge=0]="PointCharge",e[e.Wall=1]="Wall",e[e.Goal=2]="Goal"}(i=t.EntityType||(t.EntityType={}));t.Entity=function(){this.mass=1,this.charge=0,this.position=new o.Vector(0,0,0),this.velocity=new o.Vector(0,0,0),this.type=i.PointCharge,this.isSelected=!0}},676:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Goal=void 0;var r=n(458),a=function(e){function t(t,n){var i=e.call(this)||this;return i.charge=0,i.mass=0,i.position=t,i.size=n,i.type=r.EntityType.Goal,i.neededStreamCount=1,i.streamCount=0,i}return o(t,e),t.prototype.contains=function(e){return e.x()>this.position.x()&&e.x()<this.position.x()+this.size.x()&&e.y()>this.position.y()&&e.y()<this.position.y()+this.size.y()},t}(r.Entity);t.Goal=a},411:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PointCharge=void 0;var r=n(206),a=function(e){function t(t){var n=e.call(this)||this;return n.charge=1e3,n.mass=1,n.position=t,n.velocity=new r.Vector(0,0,0),n.radius=5,n}return o(t,e),t.prototype.contains=function(e){return e.sub(this.position).magnitude()<this.radius},t}(n(458).Entity);t.PointCharge=a},652:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;var r=n(206),a=function(e){function t(t){var n=e.call(this)||this;return n.charge=1e3,n.mass=1,n.position=t,n.velocity=new r.Vector(0,0,0),n.radius=5,n.path=[],n}return o(t,e),t.prototype.contains=function(e){return e.sub(this.position).magnitude()<this.radius},t}(n(458).Entity);t.Stream=a},810:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.Wall=void 0;var r=n(458),a=function(e){function t(t,n){var i=e.call(this)||this;return i.charge=0,i.mass=0,i.position=t,i.size=n,i.type=r.EntityType.Wall,i}return o(t,e),t.prototype.contains=function(e){return e.x()>this.position.x()&&e.x()<this.position.x()+this.size.x()&&e.y()>this.position.y()&&e.y()<this.position.y()+this.size.y()},t}(r.Entity);t.Wall=a},447:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Game=void 0;var i=n(395),o=n(681),r=n(938),a=n(893),c=n(602),s=function(){function e(){var e=document.getElementById("canvas");e.width=r.config.width,e.height=r.config.height,this.ctx=e.getContext("2d"),this.renderer=new o.Renderer(this.ctx),this.level=i.loadLevel(1),this.inputManager=new a.InputManager(e,this),this.scene=new c.LevelScene,this.sceneName=c.SceneName.Level,this.switchScene(c.SceneName.MainMenu)}return e.prototype.handleEvent=function(e,t){this.scene.handleEvent(e,t,this)},e.prototype.loop=function(){var e=this;this.scene.handleCollisions(this),this.scene.render(this),window.requestAnimationFrame((function(){return e.loop()}))},e.prototype.switchLevel=function(e){this.scene.sceneState=c.SceneState.LevelWin,this.level=i.loadLevel(e)},e.prototype.switchScene=function(e){switch(this.sceneName=e,this.sceneName){case c.SceneName.Level:this.scene=new c.LevelScene,this.scene.init(this);break;case c.SceneName.MainMenu:this.scene=new c.MainMenuScene,this.scene.init(this);break;case c.SceneName.End:this.scene=new c.EndScene,this.scene.init(this)}},e}();t.Game=s},893:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InputManager=void 0;var i=n(332);t.InputManager=function(e,t){var n=this;this.mousePosition=new i.Vector(-1e3,-1e3,-1e3),this.eventMap=new Map,e.addEventListener("click",(function(e){n.mousePosition=new i.Vector(e.offsetX,e.offsetY,0),t.handleEvent("click",e)})),e.addEventListener("mousemove",(function(e){n.mousePosition=new i.Vector(e.offsetX,e.offsetY,0),t.handleEvent("mousemove",e)})),e.addEventListener("mousedown",(function(e){n.mousePosition=new i.Vector(e.offsetX,e.offsetY,0),t.handleEvent("mousedown",e)})),e.addEventListener("mouseup",(function(e){n.mousePosition=new i.Vector(e.offsetX,e.offsetY,0),t.handleEvent("mouseup",e)})),e.addEventListener("mouseleave",(function(e){n.mousePosition=new i.Vector(-1e3,-1e3,-1e3),t.handleEvent("mouseleave",e)}))}},395:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.loadLevel=t.Level=void 0;var i=n(206),o=n(938),r=n(411),a=n(810),c=n(676),s=n(652),l=function(){function e(e,t,n){this.id=e,this.entities=t,this.goals=n,this.streams=[],this.helpText="",this.addStream(new i.Vector(10,o.config.height/2,0))}return e.prototype.addStream=function(e){var t=new s.Stream(e);t.charge=-1e3,t.mass=10,t.velocity=new i.Vector(50,0,0),t.path=[],this.streams.push(t)},e.prototype.addPoint=function(e){this.entities.push(new r.PointCharge(e))},e.prototype.addWall=function(e,t){this.entities.push(new a.Wall(e,t))},e.prototype.addGoal=function(e,t){this.goals.push(new c.Goal(e,t))},e}();t.Level=l,t.loadLevel=function(e){switch(e){case 1:return(t=new l(1,[],[new c.Goal(new i.Vector(o.config.width-20,100,0),new i.Vector(10,50,0))])).helpText="Click 'Add Point' to bend the plasma beam",t;case 2:return(t=new l(2,[new a.Wall(new i.Vector(o.config.width/2,20,0),new i.Vector(20,3*o.config.height/4,0))],[new c.Goal(new i.Vector(o.config.width-20,o.config.height-100,0),new i.Vector(10,50,0))])).helpText="Bend the plasma beam around the wall",t;case 3:return(t=new l(3,[],[])).addWall(new i.Vector(o.config.width/4,0,0),new i.Vector(20,o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/4,o.config.height/3+50,0),new i.Vector(20,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/2,0,0),new i.Vector(20,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/2,2*o.config.height/3+50,0),new i.Vector(20,o.config.height/3,0)),t.addWall(new i.Vector(3*o.config.width/4,0,0),new i.Vector(20,o.config.height/3,0)),t.addWall(new i.Vector(3*o.config.width/4,o.config.height/3+50,0),new i.Vector(20,2*o.config.height/3,0)),t.addGoal(new i.Vector(o.config.width-20,o.config.height/2-50,0),new i.Vector(10,100,0)),t.helpText="You can drag the charges",t;case 4:return(t=new l(4,[],[])).streams=[],t.addStream(new i.Vector(10,o.config.height/3,0)),t.addStream(new i.Vector(10,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/2,1,0),new i.Vector(20,o.config.height/3+75,0)),t.addWall(new i.Vector(o.config.width/2,2*o.config.height/3-75,0),new i.Vector(20,o.config.height/2,0)),t.addGoal(new i.Vector(o.config.width-20,o.config.height/2-50,0),new i.Vector(10,100,0)),t.goals[0].neededStreamCount=2,t.helpText="Point both beams towards the exit",t;case 5:var t;return(t=new l(5,[],[])).streams=[],t.addStream(new i.Vector(10,o.config.height/3,0)),t.addStream(new i.Vector(10,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/4,0,0),new i.Vector(20,o.config.height/3+5,0)),t.addWall(new i.Vector(o.config.width/4,o.config.height/3+50,0),new i.Vector(20,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/2,0,0),new i.Vector(20,2*o.config.height/3,0)),t.addWall(new i.Vector(o.config.width/2,2*o.config.height/3+50,0),new i.Vector(20,o.config.height/3,0)),t.addWall(new i.Vector(3*o.config.width/4,0,0),new i.Vector(20,o.config.height/3,0)),t.addWall(new i.Vector(3*o.config.width/4,o.config.height/3+50,0),new i.Vector(20,2*o.config.height/3,0)),t.addGoal(new i.Vector(o.config.width-20,o.config.height/2-50,0),new i.Vector(10,100,0)),t.goals[0].neededStreamCount=2,t.helpText="Good luck.",t}return console.error("Level not complete"),new l(69,[],[])}},651:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculateStreamPath=t.calculateTotalFieldAt=void 0;var i=n(332),o=n(411),r=n(458),a=n(602),c=n(938);function s(e,t){for(var n=new i.Vector(0,0,0),c=0,s=t.level.entities;c<s.length;c++){var h=s[c];h.type==r.EntityType.PointCharge?n=n.add(l(e,h)):h.type==r.EntityType.Wall||h.type==r.EntityType.Goal||console.log("unknown entity type")}return t.sceneName==a.SceneName.Level&&t.scene.sceneState==a.SceneState.LevelAddingCharge&&(n=n.add(l(e,new o.PointCharge(t.inputManager.mousePosition)))),n}function l(e,t){var n=e.sub(t.position).magnitude();if(n<15)return new i.Vector(0,0,0);var o=t.charge/Math.pow(n,2);return e.sub(t.position).unit().multiplyScalar(o)}t.calculateTotalFieldAt=s,t.calculateStreamPath=function(e,t,n){for(var i=[],o=t.position.clone(),r=t.velocity.clone(),a=0;a<n;a++){var l=s(o,e).multiplyScalar(t.charge).multiplyScalar(1/t.mass);if(r.set(r.add(l.multiplyScalar(.005))),o.set(o.add(r.multiplyScalar(.005))),i.push(o.clone()),o.x()<0||o.x()>c.config.width||o.y()<0||o.y()>c.config.height)return i}return i}},820:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Button=void 0;var n=function(){function e(e,t,n,i){this.action=i,this.text=e,this.size=n,this.position=t}return e.prototype.contains=function(e){return e.x()>this.position.x()&&e.x()<this.position.x()+this.size.x()&&e.y()>this.position.y()&&e.y()<this.position.y()+this.size.y()},e}();t.Button=n},681:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Renderer=t.TestChargeSteps=void 0;var i=n(332),o=n(938),r=n(651),a=n(458);t.TestChargeSteps=1e4;var c=function(){function e(e){this.testChargePathBallOffset=0,this.ctx=e}return e.prototype.clear=function(){this.ctx.clearRect(0,0,o.config.width,o.config.height)},e.prototype.drawEntities=function(e){for(var t=0,n=e.level.entities;t<n.length;t++){var i=n[t];i.type==a.EntityType.PointCharge&&this.drawPointCharge(i.position,i.charge,i.isSelected),i.type==a.EntityType.Wall&&this.drawWall(i)}},e.prototype.drawStream=function(e){this.drawPointCharge(e.position,e.charge,!1);var t=e.path.length/500,n=e.path.length;e.charge>0?this.ctx.strokeStyle="#FF0000":this.ctx.strokeStyle="#0000FF",this.ctx.beginPath();for(var i=0,o=e.path;i<o.length;i++){var r=o[i];this.ctx.lineTo(r.x(),r.y())}this.ctx.stroke();for(var a=0;a<t;a++){var c=500*a+this.testChargePathBallOffset;if(!(c>=n)){var s=e.path[c];this.drawPointCharge(s,e.charge,!1)}}this.testChargePathBallOffset=(this.testChargePathBallOffset+10)%500},e.prototype.drawButton=function(e,t){this.ctx.fillStyle="blue",this.ctx.fillRect(e.position.x(),e.position.y(),e.size.x(),e.size.y()),this.ctx.font="24px Comic Sans MS",this.ctx.fillStyle="red",this.ctx.textAlign="center",this.ctx.fillText(e.text,e.position.x()+e.size.x()/2,e.position.y()+e.size.y()/2+5)},e.prototype.drawText=function(e,t,n){this.ctx.font=t.toString()+"px Comic Sans MS",this.ctx.fillStyle="red",this.ctx.textAlign="left",this.ctx.fillText(e,n.x(),n.y())},e.prototype.drawLevel=function(e){this.ctx.font="24px Comic Sans MS",this.ctx.fillStyle="red",this.ctx.textAlign="left",this.ctx.fillText("Level: "+e.level.id.toString()+" / 5",20,20)},e.prototype.drawWall=function(e){this.ctx.fillStyle="gray",this.ctx.fillRect(e.position.x(),e.position.y(),e.size.x(),e.size.y())},e.prototype.drawGoal=function(e){e.isSelected?this.ctx.fillStyle="#0000FF":this.ctx.fillStyle="#FF0000",this.ctx.fillRect(e.position.x(),e.position.y(),e.size.x(),e.size.y())},e.prototype.drawField=function(e){for(var t=20;t<o.config.width;t+=20)for(var n=20;n<o.config.height;n+=20){var a=r.calculateTotalFieldAt(new i.Vector(t,n,0),e),c=this.vectorIndicatorLength(a);c<.1||(a=a.unit().multiplyScalar(c),this.ctx.strokeStyle="#FF0000",this.ctx.beginPath(),this.ctx.moveTo(t,n),this.ctx.lineTo(t+a.x(),n+a.y()),this.ctx.stroke())}},e.prototype.vectorIndicatorLength=function(e){var t=20*e.magnitude();return t>=19?19:t},e.prototype.drawPointCharge=function(e,t,n){this.ctx.fillStyle=t>0?"#FF0000":"#0000FF",this.ctx.beginPath(),this.ctx.arc(e.x(),e.y(),5,0,2*Math.PI),this.ctx.fill()},e}();t.Renderer=c},602:function(e,t,n){var i,o=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EndScene=t.MainMenuScene=t.LevelScene=t.Scene=t.SceneState=t.SceneName=void 0;var r,a,c=n(332),s=n(938),l=n(458),h=n(651),d=n(820),u=n(681);!function(e){e[e.SplashScreen=0]="SplashScreen",e[e.MainMenu=1]="MainMenu",e[e.LevelSelect=2]="LevelSelect",e[e.Level=3]="Level",e[e.Leaderboard=4]="Leaderboard",e[e.End=5]="End"}(r=t.SceneName||(t.SceneName={})),function(e){e[e.SceneInit=0]="SceneInit",e[e.LevelAddingCharge=1]="LevelAddingCharge",e[e.LevelMovingCharge=2]="LevelMovingCharge",e[e.LevelWin=3]="LevelWin"}(a=t.SceneState||(t.SceneState={}));var f=function(){this.sceneState=a.SceneInit,this.buttons=[],this.isRecentWin=!1};t.Scene=f;var p=function(e){function t(){var t=e.call(this)||this;return t.selectedEntity={},t}return o(t,e),t.prototype.handleEvent=function(e,t,n){var i=new c.Vector(t.offsetX,t.offsetY,0);switch(e){case"click":console.log("click");for(var o=0,r=this.buttons;o<r.length;o++){var s=r[o];if(s.contains(i))return void s.action()}if(this.sceneState==a.LevelAddingCharge)return n.level.addPoint(n.inputManager.mousePosition),this.sceneState=a.SceneInit,void this.clearSelected(n);break;case"mousedown":console.log("mousedown");for(var l=0,h=n.level.entities;l<h.length;l++)if((f=h[l]).contains(i))return this.selectedEntity=f,f.isSelected=!0,void(this.sceneState=a.LevelMovingCharge);this.clearSelected(n);break;case"mousemove":if(this.sceneState==a.LevelMovingCharge)for(var d=0,u=n.level.entities;d<u.length;d++){var f;(f=u[d]).isSelected&&(f.position=i)}break;case"mouseup":console.log("mouseup"),this.sceneState==a.LevelMovingCharge&&(this.clearSelected(n),this.sceneState=a.SceneInit)}},t.prototype.clearSelected=function(e){for(var t=0,n=e.level.entities;t<n.length;t++)n[t].isSelected=!1},t.prototype.init=function(e){var t=this;this.buttons.push(new d.Button("Add Point",new c.Vector(20,s.config.height-75,0),new c.Vector(150,60,0),(function(){t.sceneState==a.SceneInit?t.sceneState=a.LevelAddingCharge:console.log("in a wierd state already?")})))},t.prototype.handleCollisions=function(e){for(var t=0,n=e.level.goals;t<n.length;t++)(y=n[t]).isSelected=!1,y.streamCount=0;for(var i=0;i<e.level.streams.length;i++){e.level.streams[i].path=h.calculateStreamPath(e,e.level.streams[i],u.TestChargeSteps);for(var o=!1,c=0;c<e.level.streams[i].path.length;c++){for(var s=e.level.streams[i].path[c],d=0,f=e.level.entities;d<f.length;d++){var p=f[d];p.type==l.EntityType.Wall&&p.contains(s)&&(e.level.streams[i].path=e.level.streams[i].path.slice(0,c),o=!0)}if(o)break;for(var g=0,v=e.level.goals;g<v.length;g++){var y;(y=v[g]).contains(s)&&(e.level.streams[i].path=e.level.streams[i].path.slice(0,c),y.streamCount+=1,y.streamCount>=y.neededStreamCount&&(y.isSelected=!0),o=!0)}if(o)break}}e.level.goals.length>0&&e.level.goals.every((function(e){return e.isSelected}))?(e.scene.sceneState==a.LevelWin||e.scene.isRecentWin||setTimeout((function(){e.scene.isRecentWin=!1,5!=e.level.id?(e.switchLevel(e.level.id+1),e.scene.sceneState=a.SceneInit):e.switchScene(r.End)}),1e3),e.scene.sceneState==a.LevelAddingCharge&&(e.level.addPoint(e.inputManager.mousePosition),this.sceneState=a.SceneInit),this.clearSelected(e),e.scene.sceneState=a.LevelWin,e.scene.isRecentWin=!0):e.scene.isRecentWin=!1},t.prototype.render=function(e){e.renderer.clear(),e.renderer.drawEntities(e),e.renderer.drawField(e),e.renderer.drawLevel(e);for(var t=0,n=e.level.streams;t<n.length;t++){var i=n[t];e.renderer.drawStream(i)}for(var o=0,r=e.level.goals;o<r.length;o++){var l=r[o];e.renderer.drawGoal(l)}this.sceneState==a.LevelAddingCharge&&e.renderer.drawPointCharge(e.inputManager.mousePosition,1,!0);for(var h=0,d=this.buttons;h<d.length;h++){var u=d[h];e.renderer.drawButton(u,e)}""!=e.level.helpText&&e.renderer.drawText(e.level.helpText,24,new c.Vector(200,s.config.height-50,0)),e.scene.sceneState==a.LevelWin&&e.renderer.drawText("Win",256,new c.Vector(s.config.width/4,s.config.height/2,0))},t}(f);t.LevelScene=p;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleEvent=function(e,t,n){var i=new c.Vector(t.offsetX,t.offsetY,0);switch(e){case"click":for(var o=0,r=this.buttons;o<r.length;o++){var a=r[o];if(a.contains(i))return void a.action()}}},t.prototype.init=function(e){this.buttons.push(new d.Button("Play",new c.Vector(s.config.width/2-70,200,0),new c.Vector(150,60,0),(function(){e.switchScene(r.Level)}))),this.buttons.push(new d.Button("About",new c.Vector(s.config.width/2-70,300,0),new c.Vector(150,60,0),(function(){window.location.href="https://blog.c0nrad.io/posts/plasma-leak/"}))),this.buttons.push(new d.Button("Quit",new c.Vector(s.config.width/2-70,400,0),new c.Vector(150,60,0),(function(){window.location.href="https://www.youtube.com/watch?v=dQw4w9WgXcQ"})))},t.prototype.render=function(e){e.renderer.clear();for(var t=0,n=this.buttons;t<n.length;t++){var i=n[t];e.renderer.drawButton(i,e)}e.renderer.drawText("Plasma Leak",72,new c.Vector(s.config.width/2-175,100,0)),e.renderer.drawText("A rogue plasma beam is wrecking havoc inside our spacecraft!",24,new c.Vector(100,s.config.height-150,0)),e.renderer.drawText("Use electrically charged particles to bend the plasma beam to safety.",24,new c.Vector(100,s.config.height-100,0))},t.prototype.handleCollisions=function(e){},t}(f);t.MainMenuScene=g;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.handleEvent=function(e,t,n){var i=new c.Vector(t.offsetX,t.offsetY,0);switch(e){case"click":for(var o=0,r=this.buttons;o<r.length;o++){var a=r[o];if(a.contains(i))return void a.action()}}},t.prototype.init=function(e){this.buttons.push(new d.Button("Play",new c.Vector(s.config.width/2-70,200,0),new c.Vector(150,60,0),(function(){e.switchScene(r.Level)})))},t.prototype.render=function(e){e.renderer.clear(),e.renderer.drawText("Plasma Leak",72,new c.Vector(s.config.width/2-175,100,0)),e.renderer.drawText("Win",256,new c.Vector(s.config.width/4,s.config.height/2,0)),e.renderer.drawText("You won! I didn't think anyone would get this far, especially you. But congrats anyways.",24,new c.Vector(100,s.config.height-150,0)),e.renderer.drawText("If you liked it, please let me know! c0nrad@c0nrad.io (those are zero's).",24,new c.Vector(100,s.config.height-100,0)),e.renderer.drawText(" If you hated it, please let me know at spam@gmail.com",24,new c.Vector(100,s.config.height-50,0))},t.prototype.handleCollisions=function(e){},t}(f);t.EndScene=v}},t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={id:i,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(238)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wbGFzbWEtbGVhay8uL3NyYy9jc3MvbWFpbi5jc3MiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvY3NzL21haW4uY3NzPzJjOWYiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvYXBwLnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vc3JjL2pzL2NhbGN1bHVzL2luZGV4LnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vc3JjL2pzL2NhbGN1bHVzL3ZlY3Rvci50cyIsIndlYnBhY2s6Ly9wbGFzbWEtbGVhay8uL3NyYy9qcy9jb25maWcvY29uZmlnLnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vc3JjL2pzL2VudGl0eS9lbnRpdHkudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvZW50aXR5L2dvYWwudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvZW50aXR5L3BvaW50LnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vc3JjL2pzL2VudGl0eS9zdHJlYW0udHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvZW50aXR5L3dhbGwudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvZ2FtZS9nYW1lLnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrLy4vc3JjL2pzL2dhbWUvaW5wdXQudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvZ2FtZS9sZXZlbC50cyIsIndlYnBhY2s6Ly9wbGFzbWEtbGVhay8uL3NyYy9qcy9waHlzaWNzL3BoeXNpY3MudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvcmVuZGVyL2J1dHRvbi50cyIsIndlYnBhY2s6Ly9wbGFzbWEtbGVhay8uL3NyYy9qcy9yZW5kZXIvcmVuZGVyZXIudHMiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvLi9zcmMvanMvcmVuZGVyL3NjZW5lLnRzIiwid2VicGFjazovL3BsYXNtYS1sZWFrL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3BsYXNtYS1sZWFrL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL3BsYXNtYS1sZWFrL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9wbGFzbWEtbGVhay93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3BsYXNtYS1sZWFrL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vcGxhc21hLWxlYWsvd2VicGFjay9zdGFydHVwIl0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJjb25jYXQiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImxlbmd0aCIsIl9pIiwiX2FycmF5TGlrZVRvQXJyYXkiLCJhcnIiLCJsZW4iLCJhcnIyIiwiQXJyYXkiLCJfaXRlbSIsImlzQXJyYXkiLCJfYXJyYXlXaXRoSG9sZXMiLCJTeW1ib2wiLCJpdGVyYXRvciIsIk9iamVjdCIsIl9hcnIiLCJfbiIsIl9kIiwiX2UiLCJ1bmRlZmluZWQiLCJfcyIsIm5leHQiLCJkb25lIiwidmFsdWUiLCJlcnIiLCJfaXRlcmFibGVUb0FycmF5TGltaXQiLCJvIiwibWluTGVuIiwibiIsInByb3RvdHlwZSIsImNhbGwiLCJzbGljZSIsImNvbnN0cnVjdG9yIiwibmFtZSIsImZyb20iLCJ0ZXN0IiwiX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5IiwiVHlwZUVycm9yIiwiX25vbkl0ZXJhYmxlUmVzdCIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzb3VyY2VVUkxzIiwic291cmNlcyIsInNvdXJjZSIsInNvdXJjZVJvb3QiLCJtZW1vIiwiZ2V0VGFyZ2V0IiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJzdHlsZSIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsInNldEF0dHJpYnV0ZSIsImluc2VydCIsIkVycm9yIiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiQm9vbGVhbiIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJmaXJzdENoaWxkIiwic2luZ2xldG9uIiwic2luZ2xldG9uQ291bnRlciIsInVwZGF0ZSIsInN0eWxlSW5kZXgiLCJiaW5kIiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImFsbCIsImF0b2IiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2luZGV4Iiwic3BsaWNlIiwiR2FtZSIsImxvb3AiLCJ4IiwieSIsInoiLCJkIiwiTnVtYmVyIiwiaXNGaW5pdGUiLCJhZGQiLCJiIiwiVmVjdG9yIiwic3ViIiwibXVsdGlwbHlTY2FsYXIiLCJkb3RQcm9kdWN0IiwiY3Jvc3NQcm9kdWN0IiwibWFnbml0dWRlIiwiTWF0aCIsInNxcnQiLCJhbmdsZVJhZGlhbnMiLCJvdXQiLCJhYnMiLCJhY29zIiwidW5pdCIsIm0iLCJ2YWx1ZU9mIiwidG9PYmplY3QiLCJwZXJwZW5kaWN1bGFyIiwic2V0IiwiYSIsImNsb25lIiwiY29uZmlnIiwid2lkdGgiLCJoZWlnaHQiLCJFbnRpdHlUeXBlIiwiRW50aXR5IiwibWFzcyIsImNoYXJnZSIsInBvc2l0aW9uIiwidmVsb2NpdHkiLCJ0eXBlIiwiUG9pbnRDaGFyZ2UiLCJpc1NlbGVjdGVkIiwic2l6ZSIsIkdvYWwiLCJuZWVkZWRTdHJlYW1Db3VudCIsInN0cmVhbUNvdW50IiwiY29udGFpbnMiLCJyYWRpdXMiLCJwYXRoIiwiU3RyZWFtIiwiV2FsbCIsImNhbnZhcyIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsInJlbmRlcmVyIiwiUmVuZGVyZXIiLCJsZXZlbCIsImxvYWRMZXZlbCIsImlucHV0TWFuYWdlciIsIklucHV0TWFuYWdlciIsInNjZW5lIiwiTGV2ZWxTY2VuZSIsInNjZW5lTmFtZSIsIlNjZW5lTmFtZSIsIkxldmVsIiwic3dpdGNoU2NlbmUiLCJNYWluTWVudSIsImhhbmRsZUV2ZW50IiwiZXZlbnQiLCJoYW5kbGVDb2xsaXNpb25zIiwicmVuZGVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwic3dpdGNoTGV2ZWwiLCJsZXZlbE51bWJlciIsInNjZW5lU3RhdGUiLCJTY2VuZVN0YXRlIiwiTGV2ZWxXaW4iLCJpbml0IiwiTWFpbk1lbnVTY2VuZSIsIkVuZCIsIkVuZFNjZW5lIiwiY2FudmFzRWxlbWVudCIsImdhbWUiLCJtb3VzZVBvc2l0aW9uIiwiZXZlbnRNYXAiLCJNYXAiLCJhZGRFdmVudExpc3RlbmVyIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJlbnRpdGllcyIsImdvYWxzIiwic3RyZWFtcyIsImhlbHBUZXh0IiwiYWRkU3RyZWFtIiwicyIsImFkZFBvaW50IiwiYWRkV2FsbCIsImFkZEdvYWwiLCJsIiwiY29uc29sZSIsImVycm9yIiwiY2FsY3VsYXRlVG90YWxGaWVsZEF0IiwiY2FsY3VsYXRlRmllbGRBdCIsImxvZyIsIkxldmVsQWRkaW5nQ2hhcmdlIiwiciIsInBvdyIsInN0cmVhbSIsInN0ZXBzIiwiY3VycmVudFBvc2l0aW9uIiwiY3VycmVudFZlbG9jaXR5IiwiYWNjZWxlcmF0aW9uIiwidGV4dCIsImFjdGlvbiIsIkJ1dHRvbiIsIlRlc3RDaGFyZ2VTdGVwcyIsInRlc3RDaGFyZ2VQYXRoQmFsbE9mZnNldCIsImNsZWFyIiwiY2xlYXJSZWN0IiwiZHJhd0VudGl0aWVzIiwiZW50aXR5IiwiZHJhd1BvaW50Q2hhcmdlIiwiZHJhd1dhbGwiLCJkcmF3U3RyZWFtIiwiYmFsbHMiLCJzdHJva2VTdHlsZSIsImJlZ2luUGF0aCIsInAiLCJsaW5lVG8iLCJzdHJva2UiLCJwb3MiLCJkcmF3QnV0dG9uIiwiYnV0dG9uIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJmb250IiwidGV4dEFsaWduIiwiZmlsbFRleHQiLCJkcmF3VGV4dCIsImRyYXdMZXZlbCIsIndhbGwiLCJkcmF3R29hbCIsImdvYWwiLCJkcmF3RmllbGQiLCJ2ZWN0b3IiLCJ2ZWN0b3JJbmRpY2F0b3JMZW5ndGgiLCJtb3ZlVG8iLCJHcmlkU3BhY2luZyIsImFyYyIsIlBJIiwiZmlsbCIsIlNjZW5lSW5pdCIsImJ1dHRvbnMiLCJpc1JlY2VudFdpbiIsIlNjZW5lIiwic2VsZWN0ZWRFbnRpdHkiLCJjbGVhclNlbGVjdGVkIiwiTGV2ZWxNb3ZpbmdDaGFyZ2UiLCJnIiwic3RyZWFtSW5kZXgiLCJjYWxjdWxhdGVTdHJlYW1QYXRoIiwiZG9uZVdpdGhTdHJlYW0iLCJldmVyeSIsInNldFRpbWVvdXQiLCJsb2NhdGlvbiIsImhyZWYiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImRlZmluaXRpb24iLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJ0b1N0cmluZ1RhZyJdLCJtYXBwaW5ncyI6InVGQUdJQSxFLE1BQTBCLEdBQTRCLEtBRTFEQSxFQUF3QkMsS0FBSyxDQUFDQyxFQUFPQyxHQUFJLGtOQUFtTixHQUFHLENBQUMsUUFBVSxFQUFFLFFBQVUsQ0FBQyxnQ0FBZ0MsTUFBUSxHQUFHLFNBQVcsaUhBQWlILGVBQWlCLENBQUMsbU5BQW1OLFdBQWEsTUFFaHJCLFcsUUNDQUQsRUFBT0UsUUFBVSxTQUFVQyxHQUN6QixJQUFJQyxFQUFPLEdBdURYLE9BckRBQSxFQUFLQyxTQUFXLFdBQ2QsT0FBT0MsS0FBS0MsS0FBSSxTQUFVQyxHQUN4QixJQUFJQyxFQUFVTixFQUF1QkssR0FFckMsT0FBSUEsRUFBSyxHQUNBLFVBQVVFLE9BQU9GLEVBQUssR0FB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b1QsRUFFSm5ULFFBQVMsSUFPVixPQUhBb1QsRUFBb0JELEdBQVV4USxLQUFLN0MsRUFBT0UsUUFBU0YsRUFBUUEsRUFBT0UsUUFBU2tULEdBR3BFcFQsRUFBT0UsUUNuQmZrVCxFQUFvQnpRLEVBQUszQyxJQUN4QixJQUFJdVQsRUFBU3ZULEdBQVVBLEVBQU93VCxXQUM3QixJQUFNeFQsRUFBZ0IsUUFDdEIsSUFBTUEsRUFFUCxPQURBb1QsRUFBb0JuSyxFQUFFc0ssRUFBUSxDQUFFL0ksRUFBRytJLElBQzVCQSxHQ0xSSCxFQUFvQm5LLEVBQUksQ0FBQy9JLEVBQVN1VCxLQUNqQyxJQUFJLElBQUlsTixLQUFPa04sRUFDWEwsRUFBb0IzUSxFQUFFZ1IsRUFBWWxOLEtBQVM2TSxFQUFvQjNRLEVBQUV2QyxFQUFTcUcsSUFDNUUxRSxPQUFPNlIsZUFBZXhULEVBQVNxRyxFQUFLLENBQUVvTixZQUFZLEVBQU1DLElBQUtILEVBQVdsTixNQ0ozRTZNLEVBQW9CM1EsRUFBSSxDQUFDZ0QsRUFBS29PLElBQVNoUyxPQUFPZSxVQUFVa1IsZUFBZWpSLEtBQUs0QyxFQUFLb08sR0NDakZULEVBQW9COUQsRUFBS3BQLElBQ0gsb0JBQVh5QixRQUEwQkEsT0FBT29TLGFBQzFDbFMsT0FBTzZSLGVBQWV4VCxFQUFTeUIsT0FBT29TLFlBQWEsQ0FBRXpSLE1BQU8sV0FFN0RULE9BQU82UixlQUFleFQsRUFBUyxhQUFjLENBQUVvQyxPQUFPLEtDSHZEOFEsRUFBb0IsTSIsImZpbGUiOiJidW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2Nzc1dpdGhNYXBwaW5nVG9TdHJpbmcuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcImh0bWwsXFxuYm9keSB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgd2lkdGg6IDEwMCU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICBtYXJnaW46IDBweDtcXG4gIHBhZGRpbmc6IDBweDtcXG59XFxuXFxuY2FudmFzIHtcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBib3JkZXI6IDFweCBzb2xpZDtcXG59XFxuXCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2Nzcy9tYWluLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTs7RUFFRSxnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLFdBQVc7RUFDWCxZQUFZO0VBQ1osV0FBVztFQUNYLFlBQVk7QUFDZDs7QUFFQTtFQUNFLHdDQUF3QztFQUN4QyxpQkFBaUI7QUFDbkJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiaHRtbCxcXG5ib2R5IHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICB3aWR0aDogMTAwJTtcXG4gIGhlaWdodDogMTAwJTtcXG4gIG1hcmdpbjogMHB4O1xcbiAgcGFkZGluZzogMHB4O1xcbn1cXG5cXG5jYW52YXMge1xcbiAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gIGJvcmRlcjogMXB4IHNvbGlkO1xcbn1cXG5cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG4vLyBjc3MgYmFzZSBjb2RlLCBpbmplY3RlZCBieSB0aGUgY3NzLWxvYWRlclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGZ1bmMtbmFtZXNcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcblxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgcmV0dXJuIFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChjb250ZW50LCBcIn1cIik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oJycpO1xuICB9OyAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lc1xuXG5cbiAgbGlzdC5pID0gZnVuY3Rpb24gKG1vZHVsZXMsIG1lZGlhUXVlcnksIGRlZHVwZSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgJyddXTtcbiAgICB9XG5cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG1vZHVsZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19pXSk7XG5cbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udGludWVcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIGlmIChtZWRpYVF1ZXJ5KSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYVF1ZXJ5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMl0gPSBcIlwiLmNvbmNhdChtZWRpYVF1ZXJ5LCBcIiBhbmQgXCIpLmNvbmNhdChpdGVtWzJdKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX3NsaWNlZFRvQXJyYXkoYXJyLCBpKSB7IHJldHVybiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB8fCBfaXRlcmFibGVUb0FycmF5TGltaXQoYXJyLCBpKSB8fCBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkoYXJyLCBpKSB8fCBfbm9uSXRlcmFibGVSZXN0KCk7IH1cblxuZnVuY3Rpb24gX25vbkl0ZXJhYmxlUmVzdCgpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2UuXFxuSW4gb3JkZXIgdG8gYmUgaXRlcmFibGUsIG5vbi1hcnJheSBvYmplY3RzIG11c3QgaGF2ZSBhIFtTeW1ib2wuaXRlcmF0b3JdKCkgbWV0aG9kLlwiKTsgfVxuXG5mdW5jdGlvbiBfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkobywgbWluTGVuKSB7IGlmICghbykgcmV0dXJuOyBpZiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB2YXIgbiA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKS5zbGljZSg4LCAtMSk7IGlmIChuID09PSBcIk9iamVjdFwiICYmIG8uY29uc3RydWN0b3IpIG4gPSBvLmNvbnN0cnVjdG9yLm5hbWU7IGlmIChuID09PSBcIk1hcFwiIHx8IG4gPT09IFwiU2V0XCIpIHJldHVybiBBcnJheS5mcm9tKG8pOyBpZiAobiA9PT0gXCJBcmd1bWVudHNcIiB8fCAvXig/OlVpfEkpbnQoPzo4fDE2fDMyKSg/OkNsYW1wZWQpP0FycmF5JC8udGVzdChuKSkgcmV0dXJuIF9hcnJheUxpa2VUb0FycmF5KG8sIG1pbkxlbik7IH1cblxuZnVuY3Rpb24gX2FycmF5TGlrZVRvQXJyYXkoYXJyLCBsZW4pIHsgaWYgKGxlbiA9PSBudWxsIHx8IGxlbiA+IGFyci5sZW5ndGgpIGxlbiA9IGFyci5sZW5ndGg7IGZvciAodmFyIGkgPSAwLCBhcnIyID0gbmV3IEFycmF5KGxlbik7IGkgPCBsZW47IGkrKykgeyBhcnIyW2ldID0gYXJyW2ldOyB9IHJldHVybiBhcnIyOyB9XG5cbmZ1bmN0aW9uIF9pdGVyYWJsZVRvQXJyYXlMaW1pdChhcnIsIGkpIHsgaWYgKHR5cGVvZiBTeW1ib2wgPT09IFwidW5kZWZpbmVkXCIgfHwgIShTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpKSByZXR1cm47IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdICE9IG51bGwpIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfVxuXG5mdW5jdGlvbiBfYXJyYXlXaXRoSG9sZXMoYXJyKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHJldHVybiBhcnI7IH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pIHtcbiAgdmFyIF9pdGVtID0gX3NsaWNlZFRvQXJyYXkoaXRlbSwgNCksXG4gICAgICBjb250ZW50ID0gX2l0ZW1bMV0sXG4gICAgICBjc3NNYXBwaW5nID0gX2l0ZW1bM107XG5cbiAgaWYgKHR5cGVvZiBidG9hID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59OyIsImltcG9ydCBhcGkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgICAgICAgIGltcG9ydCBjb250ZW50IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vbWFpbi5jc3NcIjtcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5pbnNlcnQgPSBcImhlYWRcIjtcbm9wdGlvbnMuc2luZ2xldG9uID0gZmFsc2U7XG5cbnZhciB1cGRhdGUgPSBhcGkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgZGVmYXVsdCBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsImNvbnN0IHMgPSByZXF1aXJlKFwiLi4vY3NzL21haW4uY3NzXCIpO1xuXG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZS9nYW1lXCI7XG5sZXQgZyA9IG5ldyBHYW1lKCk7XG5nLmxvb3AoKTtcbiIsImV4cG9ydCAqIGZyb20gXCIuL3ZlY3RvclwiO1xuIiwiZXhwb3J0IGNsYXNzIFZlY3RvciB7XG4gIGQ6IG51bWJlcltdO1xuXG4gIGNvbnN0cnVjdG9yKHg6IG51bWJlciwgeTogbnVtYmVyLCB6OiBudW1iZXIpIHtcbiAgICB0aGlzLmQgPSBbeCwgeSwgel07XG4gIH1cblxuICB4KCk6IG51bWJlciB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGhpcy5kWzBdKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRbMF07XG4gIH1cblxuICB5KCk6IG51bWJlciB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGhpcy5kWzFdKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRbMV07XG4gIH1cblxuICB6KCk6IG51bWJlciB7XG4gICAgaWYgKCFOdW1iZXIuaXNGaW5pdGUodGhpcy5kWzJdKSkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmRbMl07XG4gIH1cblxuICBhZGQoYjogVmVjdG9yKTogVmVjdG9yIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcihcbiAgICAgIHRoaXMuZFswXSArIGIuZFswXSxcbiAgICAgIHRoaXMuZFsxXSArIGIuZFsxXSxcbiAgICAgIHRoaXMuZFsyXSArIGIuZFsyXVxuICAgICk7XG4gIH1cblxuICBzdWIoYjogVmVjdG9yKTogVmVjdG9yIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcihcbiAgICAgIHRoaXMuZFswXSAtIGIuZFswXSxcbiAgICAgIHRoaXMuZFsxXSAtIGIuZFsxXSxcbiAgICAgIHRoaXMuZFsyXSAtIGIuZFsyXVxuICAgICk7XG4gIH1cblxuICBtdWx0aXBseVNjYWxhcihiOiBudW1iZXIpOiBWZWN0b3Ige1xuICAgIHJldHVybiBuZXcgVmVjdG9yKHRoaXMuZFswXSAqIGIsIHRoaXMuZFsxXSAqIGIsIHRoaXMuZFsyXSAqIGIpO1xuICB9XG5cbiAgZG90UHJvZHVjdChiOiBWZWN0b3IpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRbMF0gKiBiLmRbMF0gKyB0aGlzLmRbMV0gKiBiLmRbMV0gKyB0aGlzLmRbMl0gKiBiLmRbMl07XG4gIH1cblxuICBjcm9zc1Byb2R1Y3QoYjogVmVjdG9yKTogVmVjdG9yIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcihcbiAgICAgIHRoaXMuZFsxXSAqIGIuZFsyXSAtIHRoaXMuZFsyXSAqIGIuZFsxXSxcbiAgICAgIHRoaXMuZFsyXSAqIGIuZFswXSAtIHRoaXMuZFswXSAqIGIuZFsyXSxcbiAgICAgIHRoaXMuZFswXSAqIGIuZFsxXSAtIHRoaXMuZFsxXSAqIGIuZFswXVxuICAgICk7XG4gIH1cblxuICBtYWduaXR1ZGUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KFxuICAgICAgdGhpcy5kWzBdICogdGhpcy5kWzBdICsgdGhpcy5kWzFdICogdGhpcy5kWzFdICsgdGhpcy5kWzJdICogdGhpcy5kWzJdXG4gICAgKTtcbiAgfVxuXG4gIGFuZ2xlUmFkaWFucyhiOiBWZWN0b3IpOiBudW1iZXIge1xuICAgIGxldCBvdXQgPSB0aGlzLmRvdFByb2R1Y3QoYik7XG4gICAgb3V0IC89IHRoaXMubWFnbml0dWRlKCkgKiBiLm1hZ25pdHVkZSgpO1xuICAgIHJldHVybiBNYXRoLmFicyhNYXRoLmFjb3Mob3V0KSk7XG4gIH1cblxuICB1bml0KCk6IFZlY3RvciB7XG4gICAgbGV0IG0gPSB0aGlzLm1hZ25pdHVkZSgpO1xuICAgIHJldHVybiB0aGlzLm11bHRpcGx5U2NhbGFyKDEgLyBtKTtcbiAgfVxuXG4gIHZhbHVlT2YoKTogbnVtYmVyW10ge1xuICAgIHJldHVybiB0aGlzLmQ7XG4gIH1cblxuICB0b09iamVjdCgpOiBvYmplY3Qge1xuICAgIHJldHVybiB7IHg6IHRoaXMueCgpLCB5OiB0aGlzLnkoKSwgejogdGhpcy56KCkgfTtcbiAgfVxuXG4gIHBlcnBlbmRpY3VsYXIoYjogVmVjdG9yKTogVmVjdG9yIHtcbiAgICByZXR1cm4gdGhpcy5jcm9zc1Byb2R1Y3QoYikudW5pdCgpO1xuICB9XG5cbiAgc2V0KGE6IFZlY3Rvcikge1xuICAgIHRoaXMuZFswXSA9IGEuZFswXTtcbiAgICB0aGlzLmRbMV0gPSBhLmRbMV07XG4gICAgdGhpcy5kWzJdID0gYS5kWzJdO1xuICB9XG5cbiAgY2xvbmUoKTogVmVjdG9yIHtcbiAgICByZXR1cm4gbmV3IFZlY3Rvcih0aGlzLngoKSwgdGhpcy55KCksIHRoaXMueigpKTtcbiAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IGNvbmZpZzogYW55ID0ge1xuICB3aWR0aDogMTI4MCxcbiAgaGVpZ2h0OiA3MjAsXG59O1xuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL2NhbGN1bHVzL3ZlY3RvclwiO1xuXG5leHBvcnQgZW51bSBFbnRpdHlUeXBlIHtcbiAgUG9pbnRDaGFyZ2UsXG4gIFdhbGwsXG4gIEdvYWwsXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBFbnRpdHkge1xuICBtYXNzOiBudW1iZXI7XG4gIGNoYXJnZTogbnVtYmVyO1xuICBwb3NpdGlvbjogVmVjdG9yO1xuICB2ZWxvY2l0eTogVmVjdG9yO1xuICB0eXBlOiBFbnRpdHlUeXBlO1xuXG4gIGlzU2VsZWN0ZWQ6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5tYXNzID0gMTtcbiAgICB0aGlzLmNoYXJnZSA9IDA7XG4gICAgdGhpcy5wb3NpdGlvbiA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XG5cbiAgICB0aGlzLnR5cGUgPSBFbnRpdHlUeXBlLlBvaW50Q2hhcmdlO1xuXG4gICAgdGhpcy5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGFic3RyYWN0IGNvbnRhaW5zKHBvc2l0aW9uOiBWZWN0b3IpOiBib29sZWFuO1xuXG4gIC8vIGFic3RyYWN0IGFkanVzdEZvckNvbGxpc2lvbihwb3NpdGlvbjogVmVjdG9yKTogVmVjdG9yO1xufVxuIiwiaW1wb3J0IHsgRW50aXR5LCBFbnRpdHlUeXBlIH0gZnJvbSBcIi4vZW50aXR5XCI7XG5pbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vY2FsY3VsdXMvdmVjdG9yXCI7XG5cbmV4cG9ydCBjbGFzcyBHb2FsIGV4dGVuZHMgRW50aXR5IHtcbiAgc2l6ZTogVmVjdG9yO1xuICBuZWVkZWRTdHJlYW1Db3VudDogbnVtYmVyO1xuICBzdHJlYW1Db3VudDogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHBvc2l0aW9uOiBWZWN0b3IsIHNpemU6IFZlY3Rvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGFyZ2UgPSAwO1xuICAgIHRoaXMubWFzcyA9IDA7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgdGhpcy50eXBlID0gRW50aXR5VHlwZS5Hb2FsO1xuXG4gICAgdGhpcy5uZWVkZWRTdHJlYW1Db3VudCA9IDE7XG4gICAgdGhpcy5zdHJlYW1Db3VudCA9IDA7XG4gIH1cblxuICBjb250YWlucyhwb3NpdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBvc2l0aW9uLngoKSA+IHRoaXMucG9zaXRpb24ueCgpICYmXG4gICAgICBwb3NpdGlvbi54KCkgPCB0aGlzLnBvc2l0aW9uLngoKSArIHRoaXMuc2l6ZS54KCkgJiZcbiAgICAgIHBvc2l0aW9uLnkoKSA+IHRoaXMucG9zaXRpb24ueSgpICYmXG4gICAgICBwb3NpdGlvbi55KCkgPCB0aGlzLnBvc2l0aW9uLnkoKSArIHRoaXMuc2l6ZS55KClcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBWZWN0b3IgfSBmcm9tIFwiLi4vY2FsY3VsdXMvdmVjdG9yXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi9lbnRpdHlcIjtcblxuZXhwb3J0IGNsYXNzIFBvaW50Q2hhcmdlIGV4dGVuZHMgRW50aXR5IHtcbiAgcmFkaXVzOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3Rvcikge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5jaGFyZ2UgPSAxMDAwO1xuICAgIHRoaXMubWFzcyA9IDE7XG4gICAgdGhpcy5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgIHRoaXMudmVsb2NpdHkgPSBuZXcgVmVjdG9yKDAsIDAsIDApO1xuXG4gICAgdGhpcy5yYWRpdXMgPSA1O1xuICB9XG5cbiAgY29udGFpbnMocG9zaXRpb246IFZlY3Rvcik6IGJvb2xlYW4ge1xuICAgIHJldHVybiBwb3NpdGlvbi5zdWIodGhpcy5wb3NpdGlvbikubWFnbml0dWRlKCkgPCB0aGlzLnJhZGl1cztcbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL2NhbGN1bHVzL3ZlY3RvclwiO1xuaW1wb3J0IHsgRW50aXR5IH0gZnJvbSBcIi4vZW50aXR5XCI7XG5cbmV4cG9ydCBjbGFzcyBTdHJlYW0gZXh0ZW5kcyBFbnRpdHkge1xuICByYWRpdXM6IG51bWJlcjtcblxuICBwYXRoOiBWZWN0b3JbXTtcblxuICBjb25zdHJ1Y3Rvcihwb3NpdGlvbjogVmVjdG9yKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNoYXJnZSA9IDEwMDA7XG4gICAgdGhpcy5tYXNzID0gMTtcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IoMCwgMCwgMCk7XG5cbiAgICB0aGlzLnJhZGl1cyA9IDU7XG4gICAgdGhpcy5wYXRoID0gW107XG4gIH1cblxuICBjb250YWlucyhwb3NpdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHBvc2l0aW9uLnN1Yih0aGlzLnBvc2l0aW9uKS5tYWduaXR1ZGUoKSA8IHRoaXMucmFkaXVzO1xuICB9XG59XG4iLCJpbXBvcnQgeyBFbnRpdHksIEVudGl0eVR5cGUgfSBmcm9tIFwiLi9lbnRpdHlcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1cy92ZWN0b3JcIjtcblxuZXhwb3J0IGNsYXNzIFdhbGwgZXh0ZW5kcyBFbnRpdHkge1xuICBzaXplOiBWZWN0b3I7XG5cbiAgY29uc3RydWN0b3IocG9zaXRpb246IFZlY3Rvciwgc2l6ZTogVmVjdG9yKSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLmNoYXJnZSA9IDA7XG4gICAgdGhpcy5tYXNzID0gMDtcbiAgICB0aGlzLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgdGhpcy5zaXplID0gc2l6ZTtcbiAgICB0aGlzLnR5cGUgPSBFbnRpdHlUeXBlLldhbGw7XG4gIH1cblxuICBjb250YWlucyhwb3NpdGlvbjogVmVjdG9yKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIChcbiAgICAgIHBvc2l0aW9uLngoKSA+IHRoaXMucG9zaXRpb24ueCgpICYmXG4gICAgICBwb3NpdGlvbi54KCkgPCB0aGlzLnBvc2l0aW9uLngoKSArIHRoaXMuc2l6ZS54KCkgJiZcbiAgICAgIHBvc2l0aW9uLnkoKSA+IHRoaXMucG9zaXRpb24ueSgpICYmXG4gICAgICBwb3NpdGlvbi55KCkgPCB0aGlzLnBvc2l0aW9uLnkoKSArIHRoaXMuc2l6ZS55KClcbiAgICApO1xuICB9XG59XG4iLCJpbXBvcnQgeyBMZXZlbCwgbG9hZExldmVsIH0gZnJvbSBcIi4vbGV2ZWxcIjtcbmltcG9ydCB7IFJlbmRlcmVyIH0gZnJvbSBcIi4uL3JlbmRlci9yZW5kZXJlclwiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcbmltcG9ydCB7IElucHV0TWFuYWdlciB9IGZyb20gXCIuL2lucHV0XCI7XG5pbXBvcnQge1xuICBFbmRTY2VuZSxcbiAgTWFpbk1lbnVTY2VuZSxcbiAgTGV2ZWxTY2VuZSxcbiAgU2NlbmUsXG4gIFNjZW5lTmFtZSxcbiAgU2NlbmVTdGF0ZSxcbn0gZnJvbSBcIi4uL3JlbmRlci9zY2VuZVwiO1xuXG4vLyBoYW5kbGVzIGlucHV0LCBzdGF0ZSwgZW5naW5lLCBldGNcbmV4cG9ydCBjbGFzcyBHYW1lIHtcbiAgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG4gIHJlbmRlcmVyOiBSZW5kZXJlcjtcbiAgaW5wdXRNYW5hZ2VyOiBJbnB1dE1hbmFnZXI7XG5cbiAgc2NlbmU6IFNjZW5lO1xuICBzY2VuZU5hbWU6IFNjZW5lTmFtZTtcblxuICBsZXZlbDogTGV2ZWw7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgbGV0IGNhbnZhcyA9IDxIVE1MQ2FudmFzRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcbiAgICBjYW52YXMud2lkdGggPSBjb25maWcud2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IGNvbmZpZy5oZWlnaHQ7XG4gICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpITtcblxuICAgIHRoaXMucmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIodGhpcy5jdHgpO1xuICAgIHRoaXMubGV2ZWwgPSBsb2FkTGV2ZWwoMSk7XG5cbiAgICB0aGlzLmlucHV0TWFuYWdlciA9IG5ldyBJbnB1dE1hbmFnZXIoY2FudmFzLCB0aGlzKTtcblxuICAgIHRoaXMuc2NlbmUgPSBuZXcgTGV2ZWxTY2VuZSgpO1xuICAgIHRoaXMuc2NlbmVOYW1lID0gU2NlbmVOYW1lLkxldmVsO1xuICAgIHRoaXMuc3dpdGNoU2NlbmUoU2NlbmVOYW1lLk1haW5NZW51KTtcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KG5hbWU6IHN0cmluZywgZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICB0aGlzLnNjZW5lLmhhbmRsZUV2ZW50KG5hbWUsIGV2ZW50LCB0aGlzKTtcbiAgfVxuXG4gIGxvb3AoKSB7XG4gICAgdGhpcy5zY2VuZS5oYW5kbGVDb2xsaXNpb25zKHRoaXMpO1xuICAgIHRoaXMuc2NlbmUucmVuZGVyKHRoaXMpO1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4gdGhpcy5sb29wKCkpO1xuICB9XG5cbiAgc3dpdGNoTGV2ZWwobGV2ZWxOdW1iZXI6IG51bWJlcikge1xuICAgIHRoaXMuc2NlbmUuc2NlbmVTdGF0ZSA9IFNjZW5lU3RhdGUuTGV2ZWxXaW47XG4gICAgdGhpcy5sZXZlbCA9IGxvYWRMZXZlbChsZXZlbE51bWJlcik7XG4gIH1cblxuICBzd2l0Y2hTY2VuZShzY2VuZU5hbWU6IFNjZW5lTmFtZSkge1xuICAgIHRoaXMuc2NlbmVOYW1lID0gc2NlbmVOYW1lO1xuICAgIHN3aXRjaCAodGhpcy5zY2VuZU5hbWUpIHtcbiAgICAgIGNhc2UgU2NlbmVOYW1lLkxldmVsOiB7XG4gICAgICAgIHRoaXMuc2NlbmUgPSBuZXcgTGV2ZWxTY2VuZSgpO1xuICAgICAgICB0aGlzLnNjZW5lLmluaXQodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBTY2VuZU5hbWUuTWFpbk1lbnU6IHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBNYWluTWVudVNjZW5lKCk7XG4gICAgICAgIHRoaXMuc2NlbmUuaW5pdCh0aGlzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFNjZW5lTmFtZS5FbmQ6IHtcbiAgICAgICAgdGhpcy5zY2VuZSA9IG5ldyBFbmRTY2VuZSgpO1xuICAgICAgICB0aGlzLnNjZW5lLmluaXQodGhpcyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgVmVjdG9yIH0gZnJvbSBcIi4uL2NhbGN1bHVzXCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4vZ2FtZVwiO1xuXG5leHBvcnQgY2xhc3MgSW5wdXRNYW5hZ2VyIHtcbiAgbW91c2VQb3NpdGlvbjogVmVjdG9yO1xuXG4gIGV2ZW50TWFwOiBNYXA8c3RyaW5nLCAoKCkgPT4gdm9pZClbXT47XG5cbiAgY29uc3RydWN0b3IoY2FudmFzRWxlbWVudDogSFRNTEVsZW1lbnQsIGdhbWU6IEdhbWUpIHtcbiAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSBuZXcgVmVjdG9yKC0xMDAwLCAtMTAwMCwgLTEwMDApO1xuICAgIHRoaXMuZXZlbnRNYXAgPSBuZXcgTWFwPHN0cmluZywgKCgpID0+IHZvaWQpW10+KCk7XG4gICAgY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IG5ldyBWZWN0b3IoZS5vZmZzZXRYLCBlLm9mZnNldFksIDApO1xuICAgICAgZ2FtZS5oYW5kbGVFdmVudChcImNsaWNrXCIsIGUpO1xuICAgIH0pO1xuXG4gICAgY2FudmFzRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSBuZXcgVmVjdG9yKGUub2Zmc2V0WCwgZS5vZmZzZXRZLCAwKTtcbiAgICAgIGdhbWUuaGFuZGxlRXZlbnQoXCJtb3VzZW1vdmVcIiwgZSk7XG4gICAgfSk7XG5cbiAgICBjYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgKGUpID0+IHtcbiAgICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IG5ldyBWZWN0b3IoZS5vZmZzZXRYLCBlLm9mZnNldFksIDApO1xuICAgICAgZ2FtZS5oYW5kbGVFdmVudChcIm1vdXNlZG93blwiLCBlKTtcbiAgICB9KTtcblxuICAgIGNhbnZhc0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgKGUpID0+IHtcbiAgICAgIHRoaXMubW91c2VQb3NpdGlvbiA9IG5ldyBWZWN0b3IoZS5vZmZzZXRYLCBlLm9mZnNldFksIDApO1xuICAgICAgZ2FtZS5oYW5kbGVFdmVudChcIm1vdXNldXBcIiwgZSk7XG4gICAgfSk7XG5cbiAgICBjYW52YXNFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsIChlKSA9PiB7XG4gICAgICB0aGlzLm1vdXNlUG9zaXRpb24gPSBuZXcgVmVjdG9yKC0xMDAwLCAtMTAwMCwgLTEwMDApO1xuICAgICAgZ2FtZS5oYW5kbGVFdmVudChcIm1vdXNlbGVhdmVcIiwgZSk7XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1cy92ZWN0b3JcIjtcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gXCIuLi9jb25maWcvY29uZmlnXCI7XG5pbXBvcnQgeyBFbnRpdHkgfSBmcm9tIFwiLi4vZW50aXR5L2VudGl0eVwiO1xuaW1wb3J0IHsgUG9pbnRDaGFyZ2UgfSBmcm9tIFwiLi4vZW50aXR5L3BvaW50XCI7XG5pbXBvcnQgeyBXYWxsIH0gZnJvbSBcIi4uL2VudGl0eS93YWxsXCI7XG5pbXBvcnQgeyBHb2FsIH0gZnJvbSBcIi4uL2VudGl0eS9nb2FsXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi4vZW50aXR5L3N0cmVhbVwiO1xuXG5leHBvcnQgY2xhc3MgTGV2ZWwge1xuICBpZDogbnVtYmVyO1xuICBlbnRpdGllczogRW50aXR5W107XG4gIGdvYWxzOiBHb2FsW107XG5cbiAgc3RyZWFtczogU3RyZWFtW107XG4gIGhlbHBUZXh0OiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IoaWQ6IG51bWJlciwgZW50aXRpZXM6IEVudGl0eVtdLCBnb2FsczogR29hbFtdKSB7XG4gICAgdGhpcy5pZCA9IGlkO1xuICAgIHRoaXMuZW50aXRpZXMgPSBlbnRpdGllcztcbiAgICB0aGlzLmdvYWxzID0gZ29hbHM7XG4gICAgdGhpcy5zdHJlYW1zID0gW107XG4gICAgdGhpcy5oZWxwVGV4dCA9IFwiXCI7XG5cbiAgICB0aGlzLmFkZFN0cmVhbShuZXcgVmVjdG9yKDEwLCBjb25maWcuaGVpZ2h0IC8gMiwgMCkpO1xuICB9XG5cbiAgYWRkU3RyZWFtKHBvc2l0aW9uOiBWZWN0b3IpIHtcbiAgICBsZXQgcyA9IG5ldyBTdHJlYW0ocG9zaXRpb24pO1xuICAgIHMuY2hhcmdlID0gLTEwMDA7XG4gICAgcy5tYXNzID0gMTA7XG4gICAgcy52ZWxvY2l0eSA9IG5ldyBWZWN0b3IoNTAsIDAsIDApO1xuICAgIHMucGF0aCA9IFtdO1xuICAgIHRoaXMuc3RyZWFtcy5wdXNoKHMpO1xuICB9XG5cbiAgYWRkUG9pbnQocG9zaXRpb246IFZlY3Rvcikge1xuICAgIHRoaXMuZW50aXRpZXMucHVzaChuZXcgUG9pbnRDaGFyZ2UocG9zaXRpb24pKTtcbiAgfVxuXG4gIGFkZFdhbGwocG9zaXRpb246IFZlY3Rvciwgc2l6ZTogVmVjdG9yKSB7XG4gICAgdGhpcy5lbnRpdGllcy5wdXNoKG5ldyBXYWxsKHBvc2l0aW9uLCBzaXplKSk7XG4gIH1cblxuICBhZGRHb2FsKHBvc2l0aW9uOiBWZWN0b3IsIHNpemU6IFZlY3Rvcikge1xuICAgIHRoaXMuZ29hbHMucHVzaChuZXcgR29hbChwb3NpdGlvbiwgc2l6ZSkpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBsb2FkTGV2ZWwoaTogbnVtYmVyKTogTGV2ZWwge1xuICBzd2l0Y2ggKGkpIHtcbiAgICBjYXNlIDE6IHtcbiAgICAgIGxldCBsID0gbmV3IExldmVsKFxuICAgICAgICAxLFxuICAgICAgICBbXSxcbiAgICAgICAgW25ldyBHb2FsKG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC0gMjAsIDEwMCwgMCksIG5ldyBWZWN0b3IoMTAsIDUwLCAwKSldXG4gICAgICApO1xuICAgICAgbC5oZWxwVGV4dCA9IFwiQ2xpY2sgJ0FkZCBQb2ludCcgdG8gYmVuZCB0aGUgcGxhc21hIGJlYW1cIjtcbiAgICAgIHJldHVybiBsO1xuICAgIH1cbiAgICBjYXNlIDI6IHtcbiAgICAgIGxldCBsID0gbmV3IExldmVsKFxuICAgICAgICAyLFxuICAgICAgICBbXG4gICAgICAgICAgbmV3IFdhbGwoXG4gICAgICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAvIDIsIDIwLCAwKSxcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoMjAsIChjb25maWcuaGVpZ2h0ICogMykgLyA0LCAwKVxuICAgICAgICAgICksXG4gICAgICAgIF0sXG4gICAgICAgIFtcbiAgICAgICAgICBuZXcgR29hbChcbiAgICAgICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC0gMjAsIGNvbmZpZy5oZWlnaHQgLSAxMDAsIDApLFxuICAgICAgICAgICAgbmV3IFZlY3RvcigxMCwgNTAsIDApXG4gICAgICAgICAgKSxcbiAgICAgICAgXVxuICAgICAgKTtcbiAgICAgIGwuaGVscFRleHQgPSBcIkJlbmQgdGhlIHBsYXNtYSBiZWFtIGFyb3VuZCB0aGUgd2FsbFwiO1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNhc2UgMzoge1xuICAgICAgbGV0IGwgPSBuZXcgTGV2ZWwoMywgW10sIFtdKTtcblxuICAgICAgbC5hZGRXYWxsKFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAvIDQsIDAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDIwLCBjb25maWcuaGVpZ2h0IC8gMywgMClcbiAgICAgICk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyA0LCBjb25maWcuaGVpZ2h0IC8gMyArIDUwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgKGNvbmZpZy5oZWlnaHQgKiAyKSAvIDMsIDApXG4gICAgICApO1xuXG4gICAgICBsLmFkZFdhbGwoXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gMiwgMCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMjAsIChjb25maWcuaGVpZ2h0ICogMikgLyAzLCAwKVxuICAgICAgKTtcblxuICAgICAgbC5hZGRXYWxsKFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAvIDIsIChjb25maWcuaGVpZ2h0ICogMikgLyAzICsgNTAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDIwLCBjb25maWcuaGVpZ2h0IC8gMywgMClcbiAgICAgICk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3RvcigoY29uZmlnLndpZHRoICogMykgLyA0LCAwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgY29uZmlnLmhlaWdodCAvIDMsIDApXG4gICAgICApO1xuXG4gICAgICBsLmFkZFdhbGwoXG4gICAgICAgIG5ldyBWZWN0b3IoKGNvbmZpZy53aWR0aCAqIDMpIC8gNCwgY29uZmlnLmhlaWdodCAvIDMgKyA1MCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMjAsIChjb25maWcuaGVpZ2h0ICogMikgLyAzLCAwKVxuICAgICAgKTtcblxuICAgICAgbC5hZGRHb2FsKFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAtIDIwLCBjb25maWcuaGVpZ2h0IC8gMiAtIDUwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigxMCwgMTAwLCAwKVxuICAgICAgKTtcbiAgICAgIGwuaGVscFRleHQgPSBcIllvdSBjYW4gZHJhZyB0aGUgY2hhcmdlc1wiO1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICAgIGNhc2UgNDoge1xuICAgICAgbGV0IGwgPSBuZXcgTGV2ZWwoNCwgW10sIFtdKTtcbiAgICAgIGwuc3RyZWFtcyA9IFtdO1xuICAgICAgbC5hZGRTdHJlYW0obmV3IFZlY3RvcigxMCwgY29uZmlnLmhlaWdodCAvIDMsIDApKTtcbiAgICAgIGwuYWRkU3RyZWFtKG5ldyBWZWN0b3IoMTAsIChjb25maWcuaGVpZ2h0ICogMikgLyAzLCAwKSk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyAyLCAxLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgY29uZmlnLmhlaWdodCAvIDMgKyA3NSwgMClcbiAgICAgICk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyAyLCAoY29uZmlnLmhlaWdodCAqIDIpIC8gMyAtIDc1LCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgY29uZmlnLmhlaWdodCAvIDIsIDApXG4gICAgICApO1xuXG4gICAgICBsLmFkZEdvYWwoXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC0gMjAsIGNvbmZpZy5oZWlnaHQgLyAyIC0gNTAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDEwLCAxMDAsIDApXG4gICAgICApO1xuICAgICAgbC5nb2Fsc1swXS5uZWVkZWRTdHJlYW1Db3VudCA9IDI7XG4gICAgICBsLmhlbHBUZXh0ID0gXCJQb2ludCBib3RoIGJlYW1zIHRvd2FyZHMgdGhlIGV4aXRcIjtcbiAgICAgIHJldHVybiBsO1xuICAgIH1cbiAgICBjYXNlIDU6IHtcbiAgICAgIGxldCBsID0gbmV3IExldmVsKDUsIFtdLCBbXSk7XG4gICAgICBsLnN0cmVhbXMgPSBbXTtcbiAgICAgIGwuYWRkU3RyZWFtKG5ldyBWZWN0b3IoMTAsIGNvbmZpZy5oZWlnaHQgLyAzLCAwKSk7XG4gICAgICBsLmFkZFN0cmVhbShuZXcgVmVjdG9yKDEwLCAoY29uZmlnLmhlaWdodCAqIDIpIC8gMywgMCkpO1xuXG4gICAgICBsLmFkZFdhbGwoXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gNCwgMCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMjAsIGNvbmZpZy5oZWlnaHQgLyAzICsgNSwgMClcbiAgICAgICk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyA0LCBjb25maWcuaGVpZ2h0IC8gMyArIDUwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgKGNvbmZpZy5oZWlnaHQgKiAyKSAvIDMsIDApXG4gICAgICApO1xuXG4gICAgICBsLmFkZFdhbGwoXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gMiwgMCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMjAsIChjb25maWcuaGVpZ2h0ICogMikgLyAzLCAwKVxuICAgICAgKTtcblxuICAgICAgbC5hZGRXYWxsKFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAvIDIsIChjb25maWcuaGVpZ2h0ICogMikgLyAzICsgNTAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDIwLCBjb25maWcuaGVpZ2h0IC8gMywgMClcbiAgICAgICk7XG5cbiAgICAgIGwuYWRkV2FsbChcbiAgICAgICAgbmV3IFZlY3RvcigoY29uZmlnLndpZHRoICogMykgLyA0LCAwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigyMCwgY29uZmlnLmhlaWdodCAvIDMsIDApXG4gICAgICApO1xuXG4gICAgICBsLmFkZFdhbGwoXG4gICAgICAgIG5ldyBWZWN0b3IoKGNvbmZpZy53aWR0aCAqIDMpIC8gNCwgY29uZmlnLmhlaWdodCAvIDMgKyA1MCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMjAsIChjb25maWcuaGVpZ2h0ICogMikgLyAzLCAwKVxuICAgICAgKTtcblxuICAgICAgbC5hZGRHb2FsKFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAtIDIwLCBjb25maWcuaGVpZ2h0IC8gMiAtIDUwLCAwKSxcbiAgICAgICAgbmV3IFZlY3RvcigxMCwgMTAwLCAwKVxuICAgICAgKTtcbiAgICAgIGwuZ29hbHNbMF0ubmVlZGVkU3RyZWFtQ291bnQgPSAyO1xuICAgICAgbC5oZWxwVGV4dCA9IFwiR29vZCBsdWNrLlwiO1xuICAgICAgcmV0dXJuIGw7XG4gICAgfVxuICB9XG5cbiAgY29uc29sZS5lcnJvcihcIkxldmVsIG5vdCBjb21wbGV0ZVwiKTtcbiAgcmV0dXJuIG5ldyBMZXZlbCg2OSwgW10sIFtdKTtcbn1cbiIsImltcG9ydCB7IExldmVsIH0gZnJvbSBcIi4uL2dhbWUvbGV2ZWxcIjtcbmltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1c1wiO1xuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuLi9nYW1lL2dhbWVcIjtcbmltcG9ydCB7IFBvaW50Q2hhcmdlIH0gZnJvbSBcIi4uL2VudGl0eS9wb2ludFwiO1xuaW1wb3J0IHsgRW50aXR5VHlwZSB9IGZyb20gXCIuLi9lbnRpdHkvZW50aXR5XCI7XG5pbXBvcnQgeyBMZXZlbFNjZW5lLCBTY2VuZSwgU2NlbmVOYW1lLCBTY2VuZVN0YXRlIH0gZnJvbSBcIi4uL3JlbmRlci9zY2VuZVwiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9lbnRpdHkvc3RyZWFtXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUb3RhbEZpZWxkQXQocG9zaXRpb246IFZlY3RvciwgZ2FtZTogR2FtZSk6IFZlY3RvciB7XG4gIGxldCBvdXQgPSBuZXcgVmVjdG9yKDAsIDAsIDApO1xuICBmb3IgKGxldCBlIG9mIGdhbWUubGV2ZWwuZW50aXRpZXMpIHtcbiAgICBpZiAoZS50eXBlID09IEVudGl0eVR5cGUuUG9pbnRDaGFyZ2UpIHtcbiAgICAgIG91dCA9IG91dC5hZGQoY2FsY3VsYXRlRmllbGRBdChwb3NpdGlvbiwgPFBvaW50Q2hhcmdlPmUpKTtcbiAgICB9IGVsc2UgaWYgKGUudHlwZSA9PSBFbnRpdHlUeXBlLldhbGwgfHwgZS50eXBlID09IEVudGl0eVR5cGUuR29hbCkge1xuICAgICAgLy8gbm90aGluZ1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZyhcInVua25vd24gZW50aXR5IHR5cGVcIik7XG4gICAgfVxuICB9XG5cbiAgaWYgKFxuICAgIGdhbWUuc2NlbmVOYW1lID09IFNjZW5lTmFtZS5MZXZlbCAmJlxuICAgICg8TGV2ZWxTY2VuZT5nYW1lLnNjZW5lKS5zY2VuZVN0YXRlID09IFNjZW5lU3RhdGUuTGV2ZWxBZGRpbmdDaGFyZ2VcbiAgKSB7XG4gICAgb3V0ID0gb3V0LmFkZChcbiAgICAgIGNhbGN1bGF0ZUZpZWxkQXQoXG4gICAgICAgIHBvc2l0aW9uLFxuICAgICAgICBuZXcgUG9pbnRDaGFyZ2UoZ2FtZS5pbnB1dE1hbmFnZXIubW91c2VQb3NpdGlvbilcbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIG91dDtcbn1cblxuZnVuY3Rpb24gY2FsY3VsYXRlRmllbGRBdChwb3NpdGlvbjogVmVjdG9yLCBlOiBQb2ludENoYXJnZSk6IFZlY3RvciB7XG4gIGxldCByID0gcG9zaXRpb24uc3ViKGUucG9zaXRpb24pLm1hZ25pdHVkZSgpO1xuXG4gIGlmIChyIDwgMTUpIHtcbiAgICByZXR1cm4gbmV3IFZlY3RvcigwLCAwLCAwKTtcbiAgfVxuICBsZXQgbWFnbml0dWRlID0gZS5jaGFyZ2UgLyBNYXRoLnBvdyhyLCAyKTtcbiAgbGV0IGVGaWVsZCA9IHBvc2l0aW9uLnN1YihlLnBvc2l0aW9uKS51bml0KCkubXVsdGlwbHlTY2FsYXIobWFnbml0dWRlKTtcbiAgcmV0dXJuIGVGaWVsZDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZVN0cmVhbVBhdGgoXG4gIGdhbWU6IEdhbWUsXG4gIHN0cmVhbTogU3RyZWFtLFxuICBzdGVwczogbnVtYmVyXG4pOiBWZWN0b3JbXSB7XG4gIGxldCBwYXRoOiBWZWN0b3JbXSA9IFtdO1xuICBsZXQgZHQgPSAwLjAwNTtcblxuICBsZXQgY3VycmVudFBvc2l0aW9uID0gc3RyZWFtLnBvc2l0aW9uLmNsb25lKCk7XG4gIGxldCBjdXJyZW50VmVsb2NpdHkgPSBzdHJlYW0udmVsb2NpdHkuY2xvbmUoKTtcbiAgZm9yIChsZXQgcyA9IDA7IHMgPCBzdGVwczsgcysrKSB7XG4gICAgbGV0IGZpZWxkID0gY2FsY3VsYXRlVG90YWxGaWVsZEF0KGN1cnJlbnRQb3NpdGlvbiwgZ2FtZSk7XG4gICAgbGV0IGZvcmNlID0gZmllbGQubXVsdGlwbHlTY2FsYXIoc3RyZWFtLmNoYXJnZSk7XG4gICAgbGV0IGFjY2VsZXJhdGlvbiA9IGZvcmNlLm11bHRpcGx5U2NhbGFyKDEgLyBzdHJlYW0ubWFzcyk7XG4gICAgY3VycmVudFZlbG9jaXR5LnNldChjdXJyZW50VmVsb2NpdHkuYWRkKGFjY2VsZXJhdGlvbi5tdWx0aXBseVNjYWxhcihkdCkpKTtcbiAgICBjdXJyZW50UG9zaXRpb24uc2V0KFxuICAgICAgY3VycmVudFBvc2l0aW9uLmFkZChjdXJyZW50VmVsb2NpdHkubXVsdGlwbHlTY2FsYXIoZHQpKVxuICAgICk7XG4gICAgcGF0aC5wdXNoKGN1cnJlbnRQb3NpdGlvbi5jbG9uZSgpKTtcblxuICAgIGlmIChcbiAgICAgIGN1cnJlbnRQb3NpdGlvbi54KCkgPCAwIHx8XG4gICAgICBjdXJyZW50UG9zaXRpb24ueCgpID4gY29uZmlnLndpZHRoIHx8XG4gICAgICBjdXJyZW50UG9zaXRpb24ueSgpIDwgMCB8fFxuICAgICAgY3VycmVudFBvc2l0aW9uLnkoKSA+IGNvbmZpZy5oZWlnaHRcbiAgICApIHtcbiAgICAgIHJldHVybiBwYXRoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aDtcbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1c1wiO1xuXG5leHBvcnQgY2xhc3MgQnV0dG9uIHtcbiAgYWN0aW9uOiAoKSA9PiB2b2lkO1xuICB0ZXh0OiBzdHJpbmc7XG5cbiAgc2l6ZTogVmVjdG9yO1xuICBwb3NpdGlvbjogVmVjdG9yO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHRleHQ6IHN0cmluZyxcbiAgICBwb3NpdGlvbjogVmVjdG9yLFxuICAgIHNpemU6IFZlY3RvcixcbiAgICBhY3Rpb246ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgdGhpcy5hY3Rpb24gPSBhY3Rpb247XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgfVxuXG4gIGNvbnRhaW5zKHBvc2l0aW9uOiBWZWN0b3IpOiBib29sZWFuIHtcbiAgICByZXR1cm4gKFxuICAgICAgcG9zaXRpb24ueCgpID4gdGhpcy5wb3NpdGlvbi54KCkgJiZcbiAgICAgIHBvc2l0aW9uLngoKSA8IHRoaXMucG9zaXRpb24ueCgpICsgdGhpcy5zaXplLngoKSAmJlxuICAgICAgcG9zaXRpb24ueSgpID4gdGhpcy5wb3NpdGlvbi55KCkgJiZcbiAgICAgIHBvc2l0aW9uLnkoKSA8IHRoaXMucG9zaXRpb24ueSgpICsgdGhpcy5zaXplLnkoKVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1c1wiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi4vZ2FtZS9nYW1lXCI7XG5pbXBvcnQgeyBMZXZlbCB9IGZyb20gXCIuLi9nYW1lL2xldmVsXCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVUb3RhbEZpZWxkQXQgfSBmcm9tIFwiLi4vcGh5c2ljcy9waHlzaWNzXCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi9idXR0b25cIjtcbmltcG9ydCB7IFdhbGwgfSBmcm9tIFwiLi4vZW50aXR5L3dhbGxcIjtcbmltcG9ydCB7IEdvYWwgfSBmcm9tIFwiLi4vZW50aXR5L2dvYWxcIjtcbmltcG9ydCB7IEVudGl0eVR5cGUgfSBmcm9tIFwiLi4vZW50aXR5L2VudGl0eVwiO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSBcIi4uL2VudGl0eS9zdHJlYW1cIjtcblxuY29uc3QgR3JpZFNwYWNpbmcgPSAyMDtcbmNvbnN0IFN0ZXBzUGVyQmFsbCA9IDUwMDtcbmV4cG9ydCBjb25zdCBUZXN0Q2hhcmdlU3RlcHMgPSAxMDAwMDtcblxuZXhwb3J0IGNsYXNzIFJlbmRlcmVyIHtcbiAgdGVzdENoYXJnZVBhdGhCYWxsT2Zmc2V0ID0gMDtcblxuICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcbiAgY29uc3RydWN0b3IoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcbiAgICB0aGlzLmN0eCA9IGN0eDtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCBjb25maWcud2lkdGgsIGNvbmZpZy5oZWlnaHQpO1xuICB9XG5cbiAgZHJhd0VudGl0aWVzKGdhbWU6IEdhbWUpIHtcbiAgICBmb3IgKGxldCBlbnRpdHkgb2YgZ2FtZS5sZXZlbC5lbnRpdGllcykge1xuICAgICAgaWYgKGVudGl0eS50eXBlID09IEVudGl0eVR5cGUuUG9pbnRDaGFyZ2UpIHtcbiAgICAgICAgdGhpcy5kcmF3UG9pbnRDaGFyZ2UoZW50aXR5LnBvc2l0aW9uLCBlbnRpdHkuY2hhcmdlLCBlbnRpdHkuaXNTZWxlY3RlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChlbnRpdHkudHlwZSA9PSBFbnRpdHlUeXBlLldhbGwpIHtcbiAgICAgICAgdGhpcy5kcmF3V2FsbCg8V2FsbD5lbnRpdHkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRyYXdTdHJlYW0oc3RyZWFtOiBTdHJlYW0pIHtcbiAgICB0aGlzLmRyYXdQb2ludENoYXJnZShzdHJlYW0ucG9zaXRpb24sIHN0cmVhbS5jaGFyZ2UsIGZhbHNlKTtcblxuICAgIGxldCBiYWxscyA9IHN0cmVhbS5wYXRoLmxlbmd0aCAvIFN0ZXBzUGVyQmFsbDtcbiAgICBsZXQgc3RlcFNpemUgPSAxMDtcbiAgICBsZXQgc3RlcHMgPSBzdHJlYW0ucGF0aC5sZW5ndGg7XG5cbiAgICBpZiAoc3RyZWFtLmNoYXJnZSA+IDApIHtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjRkYwMDAwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3R4LnN0cm9rZVN0eWxlID0gXCIjMDAwMEZGXCI7XG4gICAgfVxuXG4gICAgdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgZm9yIChsZXQgcCBvZiBzdHJlYW0ucGF0aCkge1xuICAgICAgdGhpcy5jdHgubGluZVRvKHAueCgpLCBwLnkoKSk7XG4gICAgfVxuICAgIHRoaXMuY3R4LnN0cm9rZSgpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiYWxsczsgaSsrKSB7XG4gICAgICBsZXQgaW5kZXggPSBTdGVwc1BlckJhbGwgKiBpICsgdGhpcy50ZXN0Q2hhcmdlUGF0aEJhbGxPZmZzZXQ7XG5cbiAgICAgIGlmIChpbmRleCA+PSBzdGVwcykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGxldCBwb3MgPSBzdHJlYW0ucGF0aFtpbmRleF07XG4gICAgICB0aGlzLmRyYXdQb2ludENoYXJnZShwb3MsIHN0cmVhbS5jaGFyZ2UsIGZhbHNlKTtcbiAgICB9XG4gICAgdGhpcy50ZXN0Q2hhcmdlUGF0aEJhbGxPZmZzZXQgPVxuICAgICAgKHRoaXMudGVzdENoYXJnZVBhdGhCYWxsT2Zmc2V0ICsgc3RlcFNpemUpICUgU3RlcHNQZXJCYWxsO1xuICB9XG5cbiAgZHJhd0J1dHRvbihidXR0b246IEJ1dHRvbiwgZ2FtZTogR2FtZSkge1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xuXG4gICAgdGhpcy5jdHguZmlsbFJlY3QoXG4gICAgICBidXR0b24ucG9zaXRpb24ueCgpLFxuICAgICAgYnV0dG9uLnBvc2l0aW9uLnkoKSxcbiAgICAgIGJ1dHRvbi5zaXplLngoKSxcbiAgICAgIGJ1dHRvbi5zaXplLnkoKVxuICAgICk7XG5cbiAgICB0aGlzLmN0eC5mb250ID0gXCIyNHB4IENvbWljIFNhbnMgTVNcIjtcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG4gICAgdGhpcy5jdHguZmlsbFRleHQoXG4gICAgICBidXR0b24udGV4dCxcbiAgICAgIGJ1dHRvbi5wb3NpdGlvbi54KCkgKyBidXR0b24uc2l6ZS54KCkgLyAyLFxuICAgICAgYnV0dG9uLnBvc2l0aW9uLnkoKSArIGJ1dHRvbi5zaXplLnkoKSAvIDIgKyA1XG4gICAgKTtcbiAgfVxuXG4gIGRyYXdUZXh0KHRleHQ6IHN0cmluZywgc2l6ZTogbnVtYmVyLCBwb3NpdGlvbjogVmVjdG9yKSB7XG4gICAgdGhpcy5jdHguZm9udCA9IHNpemUudG9TdHJpbmcoKSArIFwicHggQ29taWMgU2FucyBNU1wiO1xuICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwicmVkXCI7XG4gICAgdGhpcy5jdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgdGhpcy5jdHguZmlsbFRleHQodGV4dCwgcG9zaXRpb24ueCgpLCBwb3NpdGlvbi55KCkpO1xuICB9XG5cbiAgZHJhd0xldmVsKGdhbWU6IEdhbWUpIHtcbiAgICB0aGlzLmN0eC5mb250ID0gXCIyNHB4IENvbWljIFNhbnMgTVNcIjtcbiAgICB0aGlzLmN0eC5maWxsU3R5bGUgPSBcInJlZFwiO1xuICAgIHRoaXMuY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xuICAgIHRoaXMuY3R4LmZpbGxUZXh0KFwiTGV2ZWw6IFwiICsgZ2FtZS5sZXZlbC5pZC50b1N0cmluZygpICsgXCIgLyA1XCIsIDIwLCAyMCk7XG4gIH1cblxuICBkcmF3V2FsbCh3YWxsOiBXYWxsKSB7XG4gICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCJncmF5XCI7XG5cbiAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgIHdhbGwucG9zaXRpb24ueCgpLFxuICAgICAgd2FsbC5wb3NpdGlvbi55KCksXG4gICAgICB3YWxsLnNpemUueCgpLFxuICAgICAgd2FsbC5zaXplLnkoKVxuICAgICk7XG4gIH1cblxuICBkcmF3R29hbChnb2FsOiBHb2FsKSB7XG4gICAgaWYgKGdvYWwuaXNTZWxlY3RlZCkge1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCIjMDAwMEZGXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiI0ZGMDAwMFwiO1xuICAgIH1cbiAgICB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAgIGdvYWwucG9zaXRpb24ueCgpLFxuICAgICAgZ29hbC5wb3NpdGlvbi55KCksXG4gICAgICBnb2FsLnNpemUueCgpLFxuICAgICAgZ29hbC5zaXplLnkoKVxuICAgICk7XG4gIH1cbiAgZHJhd0ZpZWxkKGdhbWU6IEdhbWUpIHtcbiAgICBmb3IgKGxldCB4ID0gR3JpZFNwYWNpbmc7IHggPCBjb25maWcud2lkdGg7IHggKz0gR3JpZFNwYWNpbmcpIHtcbiAgICAgIGZvciAobGV0IHkgPSBHcmlkU3BhY2luZzsgeSA8IGNvbmZpZy5oZWlnaHQ7IHkgKz0gR3JpZFNwYWNpbmcpIHtcbiAgICAgICAgbGV0IHZlY3RvciA9IGNhbGN1bGF0ZVRvdGFsRmllbGRBdChuZXcgVmVjdG9yKHgsIHksIDApLCBnYW1lKTtcbiAgICAgICAgbGV0IG1hZ25pdHVkZSA9IHRoaXMudmVjdG9ySW5kaWNhdG9yTGVuZ3RoKHZlY3Rvcik7XG4gICAgICAgIGlmIChtYWduaXR1ZGUgPCAwLjEpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZlY3RvciA9IHZlY3Rvci51bml0KCkubXVsdGlwbHlTY2FsYXIobWFnbml0dWRlKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBcIiNGRjAwMDBcIjtcblxuICAgICAgICB0aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgdGhpcy5jdHgubW92ZVRvKHgsIHkpO1xuICAgICAgICB0aGlzLmN0eC5saW5lVG8oeCArIHZlY3Rvci54KCksIHkgKyB2ZWN0b3IueSgpKTtcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmVjdG9ySW5kaWNhdG9yTGVuZ3RoKHZlY3RvcjogVmVjdG9yKTogbnVtYmVyIHtcbiAgICBsZXQgb3V0ID0gdmVjdG9yLm1hZ25pdHVkZSgpICogMjA7XG4gICAgaWYgKG91dCA+PSBHcmlkU3BhY2luZyAtIDEpIHtcbiAgICAgIHJldHVybiBHcmlkU3BhY2luZyAtIDE7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBkcmF3UG9pbnRDaGFyZ2UocG9zaXRpb246IFZlY3RvciwgY2hhcmdlOiBudW1iZXIsIGlzU2VsZWN0ZWQ6IGJvb2xlYW4pIHtcbiAgICBpZiAoY2hhcmdlID4gMCkge1xuICAgICAgdGhpcy5jdHguZmlsbFN0eWxlID0gXCIjRkYwMDAwXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuY3R4LmZpbGxTdHlsZSA9IFwiIzAwMDBGRlwiO1xuICAgIH1cbiAgICBpZiAoaXNTZWxlY3RlZCkge1xuICAgICAgLy8gdGhpcy5jdHguZmlsbFN0eWxlID0gXCIjMDBGRjAwXCI7XG4gICAgfVxuICAgIGxldCBzaXplID0gNTtcblxuICAgIHRoaXMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIHRoaXMuY3R4LmFyYyhwb3NpdGlvbi54KCksIHBvc2l0aW9uLnkoKSwgc2l6ZSwgMCwgMiAqIE1hdGguUEkpO1xuICAgIHRoaXMuY3R4LmZpbGwoKTtcbiAgICAvLyB0aGlzLmN0eC5maWxsUmVjdChcbiAgICAvLyAgIHBvc2l0aW9uLngoKSAtIHNpemUgLyAyLFxuICAgIC8vICAgcG9zaXRpb24ueSgpIC0gc2l6ZSAvIDIsXG4gICAgLy8gICBzaXplLFxuICAgIC8vICAgc2l6ZVxuICAgIC8vICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFZlY3RvciB9IGZyb20gXCIuLi9jYWxjdWx1c1wiO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSBcIi4uL2NvbmZpZy9jb25maWdcIjtcbmltcG9ydCB7IEVudGl0eSwgRW50aXR5VHlwZSB9IGZyb20gXCIuLi9lbnRpdHkvZW50aXR5XCI7XG5pbXBvcnQgeyBHYW1lIH0gZnJvbSBcIi4uL2dhbWUvZ2FtZVwiO1xuaW1wb3J0IHsgY2FsY3VsYXRlU3RyZWFtUGF0aCB9IGZyb20gXCIuLi9waHlzaWNzL3BoeXNpY3NcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuL2J1dHRvblwiO1xuaW1wb3J0IHsgVGVzdENoYXJnZVN0ZXBzIH0gZnJvbSBcIi4vcmVuZGVyZXJcIjtcblxuZXhwb3J0IGVudW0gU2NlbmVOYW1lIHtcbiAgU3BsYXNoU2NyZWVuLFxuICBNYWluTWVudSxcbiAgTGV2ZWxTZWxlY3QsXG4gIExldmVsLFxuICBMZWFkZXJib2FyZCxcbiAgRW5kLFxufVxuXG5leHBvcnQgZW51bSBTY2VuZVN0YXRlIHtcbiAgU2NlbmVJbml0LFxuICAvLyBMZXZlbFxuICBMZXZlbEFkZGluZ0NoYXJnZSxcbiAgTGV2ZWxNb3ZpbmdDaGFyZ2UsXG5cbiAgTGV2ZWxXaW4sXG59XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTY2VuZSB7XG4gIGJ1dHRvbnM6IEJ1dHRvbltdO1xuICBzY2VuZVN0YXRlOiBTY2VuZVN0YXRlO1xuICBpc1JlY2VudFdpbjogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnNjZW5lU3RhdGUgPSBTY2VuZVN0YXRlLlNjZW5lSW5pdDtcbiAgICB0aGlzLmJ1dHRvbnMgPSBbXTtcbiAgICB0aGlzLmlzUmVjZW50V2luID0gZmFsc2U7XG4gIH1cblxuICBhYnN0cmFjdCBoYW5kbGVFdmVudChuYW1lOiBzdHJpbmcsIGV2ZW50OiBNb3VzZUV2ZW50LCBnYW1lOiBHYW1lKTogdm9pZDtcblxuICBhYnN0cmFjdCBpbml0KGdhbWU6IEdhbWUpOiB2b2lkO1xuICBhYnN0cmFjdCByZW5kZXIoZ2FtZTogR2FtZSk6IHZvaWQ7XG4gIGFic3RyYWN0IGhhbmRsZUNvbGxpc2lvbnMoZ2FtZTogR2FtZSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBjbGFzcyBMZXZlbFNjZW5lIGV4dGVuZHMgU2NlbmUge1xuICBzZWxlY3RlZEVudGl0eTogRW50aXR5O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG4gICAgdGhpcy5zZWxlY3RlZEVudGl0eSA9IHt9IGFzIEVudGl0eTtcbiAgfVxuXG4gIGhhbmRsZUV2ZW50KG5hbWU6IHN0cmluZywgZXZlbnQ6IE1vdXNlRXZlbnQsIGdhbWU6IEdhbWUpIHtcbiAgICBsZXQgcG9zaXRpb24gPSBuZXcgVmVjdG9yKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFksIDApO1xuXG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiY2xpY2tcIjoge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNsaWNrXCIpO1xuICAgICAgICBmb3IgKGxldCBidXR0b24gb2YgdGhpcy5idXR0b25zKSB7XG4gICAgICAgICAgaWYgKGJ1dHRvbi5jb250YWlucyhwb3NpdGlvbikpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zY2VuZVN0YXRlID09IFNjZW5lU3RhdGUuTGV2ZWxBZGRpbmdDaGFyZ2UpIHtcbiAgICAgICAgICBnYW1lLmxldmVsLmFkZFBvaW50KGdhbWUuaW5wdXRNYW5hZ2VyLm1vdXNlUG9zaXRpb24pO1xuICAgICAgICAgIHRoaXMuc2NlbmVTdGF0ZSA9IFNjZW5lU3RhdGUuU2NlbmVJbml0O1xuICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZChnYW1lKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwibW91c2Vkb3duXCI6IHtcbiAgICAgICAgY29uc29sZS5sb2coXCJtb3VzZWRvd25cIik7XG4gICAgICAgIGZvciAobGV0IGUgb2YgZ2FtZS5sZXZlbC5lbnRpdGllcykge1xuICAgICAgICAgIGlmIChlLmNvbnRhaW5zKHBvc2l0aW9uKSkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEVudGl0eSA9IGU7XG4gICAgICAgICAgICBlLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zY2VuZVN0YXRlID0gU2NlbmVTdGF0ZS5MZXZlbE1vdmluZ0NoYXJnZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyU2VsZWN0ZWQoZ2FtZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm1vdXNlbW92ZVwiOiB7XG4gICAgICAgIGlmICh0aGlzLnNjZW5lU3RhdGUgPT0gU2NlbmVTdGF0ZS5MZXZlbE1vdmluZ0NoYXJnZSkge1xuICAgICAgICAgIGZvciAobGV0IGUgb2YgZ2FtZS5sZXZlbC5lbnRpdGllcykge1xuICAgICAgICAgICAgaWYgKGUuaXNTZWxlY3RlZCkge1xuICAgICAgICAgICAgICBlLnBvc2l0aW9uID0gcG9zaXRpb247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIm1vdXNldXBcIjoge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm1vdXNldXBcIik7XG4gICAgICAgIGlmICh0aGlzLnNjZW5lU3RhdGUgPT0gU2NlbmVTdGF0ZS5MZXZlbE1vdmluZ0NoYXJnZSkge1xuICAgICAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZChnYW1lKTtcbiAgICAgICAgICB0aGlzLnNjZW5lU3RhdGUgPSBTY2VuZVN0YXRlLlNjZW5lSW5pdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGNsZWFyU2VsZWN0ZWQoZ2FtZTogR2FtZSkge1xuICAgIGZvciAobGV0IGUgb2YgZ2FtZS5sZXZlbC5lbnRpdGllcykge1xuICAgICAgZS5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgaW5pdChnYW1lOiBHYW1lKSB7XG4gICAgdGhpcy5idXR0b25zLnB1c2goXG4gICAgICBuZXcgQnV0dG9uKFxuICAgICAgICBcIkFkZCBQb2ludFwiLFxuICAgICAgICBuZXcgVmVjdG9yKDIwLCBjb25maWcuaGVpZ2h0IC0gNzUsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDE1MCwgNjAsIDApLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMuc2NlbmVTdGF0ZSA9PSBTY2VuZVN0YXRlLlNjZW5lSW5pdCkge1xuICAgICAgICAgICAgdGhpcy5zY2VuZVN0YXRlID0gU2NlbmVTdGF0ZS5MZXZlbEFkZGluZ0NoYXJnZTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJpbiBhIHdpZXJkIHN0YXRlIGFscmVhZHk/XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBoYW5kbGVDb2xsaXNpb25zKGdhbWU6IEdhbWUpIHtcbiAgICBmb3IgKGxldCBnIG9mIGdhbWUubGV2ZWwuZ29hbHMpIHtcbiAgICAgIGcuaXNTZWxlY3RlZCA9IGZhbHNlO1xuICAgICAgZy5zdHJlYW1Db3VudCA9IDA7XG4gICAgfVxuXG4gICAgZm9yIChcbiAgICAgIGxldCBzdHJlYW1JbmRleCA9IDA7XG4gICAgICBzdHJlYW1JbmRleCA8IGdhbWUubGV2ZWwuc3RyZWFtcy5sZW5ndGg7XG4gICAgICBzdHJlYW1JbmRleCsrXG4gICAgKSB7XG4gICAgICBnYW1lLmxldmVsLnN0cmVhbXNbc3RyZWFtSW5kZXhdLnBhdGggPSBjYWxjdWxhdGVTdHJlYW1QYXRoKFxuICAgICAgICBnYW1lLFxuICAgICAgICBnYW1lLmxldmVsLnN0cmVhbXNbc3RyZWFtSW5kZXhdLFxuICAgICAgICBUZXN0Q2hhcmdlU3RlcHNcbiAgICAgICk7XG5cbiAgICAgIGxldCBkb25lV2l0aFN0cmVhbSA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnYW1lLmxldmVsLnN0cmVhbXNbc3RyZWFtSW5kZXhdLnBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IHAgPSBnYW1lLmxldmVsLnN0cmVhbXNbc3RyZWFtSW5kZXhdLnBhdGhbaV07XG5cbiAgICAgICAgZm9yIChsZXQgZSBvZiBnYW1lLmxldmVsLmVudGl0aWVzKSB7XG4gICAgICAgICAgaWYgKGUudHlwZSA9PSBFbnRpdHlUeXBlLldhbGwpIHtcbiAgICAgICAgICAgIGlmIChlLmNvbnRhaW5zKHApKSB7XG4gICAgICAgICAgICAgIGdhbWUubGV2ZWwuc3RyZWFtc1tzdHJlYW1JbmRleF0ucGF0aCA9IGdhbWUubGV2ZWwuc3RyZWFtc1tcbiAgICAgICAgICAgICAgICBzdHJlYW1JbmRleFxuICAgICAgICAgICAgICBdLnBhdGguc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICAgIGRvbmVXaXRoU3RyZWFtID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZG9uZVdpdGhTdHJlYW0pIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBnIG9mIGdhbWUubGV2ZWwuZ29hbHMpIHtcbiAgICAgICAgICBpZiAoZy5jb250YWlucyhwKSkge1xuICAgICAgICAgICAgZ2FtZS5sZXZlbC5zdHJlYW1zW3N0cmVhbUluZGV4XS5wYXRoID0gZ2FtZS5sZXZlbC5zdHJlYW1zW1xuICAgICAgICAgICAgICBzdHJlYW1JbmRleFxuICAgICAgICAgICAgXS5wYXRoLnNsaWNlKDAsIGkpO1xuICAgICAgICAgICAgZy5zdHJlYW1Db3VudCArPSAxO1xuICAgICAgICAgICAgaWYgKGcuc3RyZWFtQ291bnQgPj0gZy5uZWVkZWRTdHJlYW1Db3VudCkge1xuICAgICAgICAgICAgICBnLmlzU2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZVdpdGhTdHJlYW0gPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkb25lV2l0aFN0cmVhbSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgZ2FtZS5sZXZlbC5nb2Fscy5sZW5ndGggPiAwICYmXG4gICAgICBnYW1lLmxldmVsLmdvYWxzLmV2ZXJ5KChnKSA9PiBnLmlzU2VsZWN0ZWQpXG4gICAgKSB7XG4gICAgICBpZiAoXG4gICAgICAgIGdhbWUuc2NlbmUuc2NlbmVTdGF0ZSAhPSBTY2VuZVN0YXRlLkxldmVsV2luICYmXG4gICAgICAgICFnYW1lLnNjZW5lLmlzUmVjZW50V2luXG4gICAgICApIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZ2FtZS5zY2VuZS5pc1JlY2VudFdpbiA9IGZhbHNlO1xuXG4gICAgICAgICAgaWYgKGdhbWUubGV2ZWwuaWQgPT0gNSkge1xuICAgICAgICAgICAgZ2FtZS5zd2l0Y2hTY2VuZShTY2VuZU5hbWUuRW5kKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnYW1lLnN3aXRjaExldmVsKGdhbWUubGV2ZWwuaWQgKyAxKTtcbiAgICAgICAgICBnYW1lLnNjZW5lLnNjZW5lU3RhdGUgPSBTY2VuZVN0YXRlLlNjZW5lSW5pdDtcbiAgICAgICAgfSwgMTAwMCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChnYW1lLnNjZW5lLnNjZW5lU3RhdGUgPT0gU2NlbmVTdGF0ZS5MZXZlbEFkZGluZ0NoYXJnZSkge1xuICAgICAgICBnYW1lLmxldmVsLmFkZFBvaW50KGdhbWUuaW5wdXRNYW5hZ2VyLm1vdXNlUG9zaXRpb24pO1xuICAgICAgICB0aGlzLnNjZW5lU3RhdGUgPSBTY2VuZVN0YXRlLlNjZW5lSW5pdDtcbiAgICAgIH1cbiAgICAgIHRoaXMuY2xlYXJTZWxlY3RlZChnYW1lKTtcblxuICAgICAgZ2FtZS5zY2VuZS5zY2VuZVN0YXRlID0gU2NlbmVTdGF0ZS5MZXZlbFdpbjtcbiAgICAgIGdhbWUuc2NlbmUuaXNSZWNlbnRXaW4gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBnYW1lLnNjZW5lLmlzUmVjZW50V2luID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgcmVuZGVyKGdhbWU6IEdhbWUpIHtcbiAgICBnYW1lLnJlbmRlcmVyLmNsZWFyKCk7XG4gICAgZ2FtZS5yZW5kZXJlci5kcmF3RW50aXRpZXMoZ2FtZSk7XG4gICAgZ2FtZS5yZW5kZXJlci5kcmF3RmllbGQoZ2FtZSk7XG4gICAgZ2FtZS5yZW5kZXJlci5kcmF3TGV2ZWwoZ2FtZSk7XG5cbiAgICBmb3IgKGxldCBzIG9mIGdhbWUubGV2ZWwuc3RyZWFtcykge1xuICAgICAgZ2FtZS5yZW5kZXJlci5kcmF3U3RyZWFtKHMpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGcgb2YgZ2FtZS5sZXZlbC5nb2Fscykge1xuICAgICAgZ2FtZS5yZW5kZXJlci5kcmF3R29hbChnKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zY2VuZVN0YXRlID09IFNjZW5lU3RhdGUuTGV2ZWxBZGRpbmdDaGFyZ2UpIHtcbiAgICAgIGdhbWUucmVuZGVyZXIuZHJhd1BvaW50Q2hhcmdlKGdhbWUuaW5wdXRNYW5hZ2VyLm1vdXNlUG9zaXRpb24sIDEsIHRydWUpO1xuICAgIH1cblxuICAgIGZvciAobGV0IGIgb2YgdGhpcy5idXR0b25zKSB7XG4gICAgICBnYW1lLnJlbmRlcmVyLmRyYXdCdXR0b24oYiwgZ2FtZSk7XG4gICAgfVxuXG4gICAgaWYgKGdhbWUubGV2ZWwuaGVscFRleHQgIT0gXCJcIikge1xuICAgICAgZ2FtZS5yZW5kZXJlci5kcmF3VGV4dChcbiAgICAgICAgZ2FtZS5sZXZlbC5oZWxwVGV4dCxcbiAgICAgICAgMjQsXG4gICAgICAgIG5ldyBWZWN0b3IoMjAwLCBjb25maWcuaGVpZ2h0IC0gNTAsIDApXG4gICAgICApO1xuICAgIH1cblxuICAgIGlmIChnYW1lLnNjZW5lLnNjZW5lU3RhdGUgPT0gU2NlbmVTdGF0ZS5MZXZlbFdpbikge1xuICAgICAgZ2FtZS5yZW5kZXJlci5kcmF3VGV4dChcbiAgICAgICAgXCJXaW5cIixcbiAgICAgICAgMjU2LFxuICAgICAgICBuZXcgVmVjdG9yKGNvbmZpZy53aWR0aCAvIDQsIGNvbmZpZy5oZWlnaHQgLyAyLCAwKVxuICAgICAgKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1haW5NZW51U2NlbmUgZXh0ZW5kcyBTY2VuZSB7XG4gIGhhbmRsZUV2ZW50KG5hbWU6IHN0cmluZywgZXZlbnQ6IE1vdXNlRXZlbnQsIGdhbWU6IEdhbWUpIHtcbiAgICBsZXQgcG9zaXRpb24gPSBuZXcgVmVjdG9yKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFksIDApO1xuXG4gICAgc3dpdGNoIChuYW1lKSB7XG4gICAgICBjYXNlIFwiY2xpY2tcIjoge1xuICAgICAgICBmb3IgKGxldCBidXR0b24gb2YgdGhpcy5idXR0b25zKSB7XG4gICAgICAgICAgaWYgKGJ1dHRvbi5jb250YWlucyhwb3NpdGlvbikpIHtcbiAgICAgICAgICAgIGJ1dHRvbi5hY3Rpb24oKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaW5pdChnYW1lOiBHYW1lKSB7XG4gICAgdGhpcy5idXR0b25zLnB1c2goXG4gICAgICBuZXcgQnV0dG9uKFxuICAgICAgICBcIlBsYXlcIixcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyAyIC0gNzAsIDIwMCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMTUwLCA2MCwgMCksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICBnYW1lLnN3aXRjaFNjZW5lKFNjZW5lTmFtZS5MZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgdGhpcy5idXR0b25zLnB1c2goXG4gICAgICBuZXcgQnV0dG9uKFxuICAgICAgICBcIkFib3V0XCIsXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gMiAtIDcwLCAzMDAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDE1MCwgNjAsIDApLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcImh0dHBzOi8vYmxvZy5jMG5yYWQuaW8vcG9zdHMvcGxhc21hLWxlYWsvXCI7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuXG4gICAgdGhpcy5idXR0b25zLnB1c2goXG4gICAgICBuZXcgQnV0dG9uKFxuICAgICAgICBcIlF1aXRcIixcbiAgICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyAyIC0gNzAsIDQwMCwgMCksXG4gICAgICAgIG5ldyBWZWN0b3IoMTUwLCA2MCwgMCksXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vd2F0Y2g/dj1kUXc0dzlXZ1hjUVwiO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuICByZW5kZXIoZ2FtZTogR2FtZSkge1xuICAgIGdhbWUucmVuZGVyZXIuY2xlYXIoKTtcblxuICAgIGZvciAobGV0IGIgb2YgdGhpcy5idXR0b25zKSB7XG4gICAgICBnYW1lLnJlbmRlcmVyLmRyYXdCdXR0b24oYiwgZ2FtZSk7XG4gICAgfVxuXG4gICAgZ2FtZS5yZW5kZXJlci5kcmF3VGV4dChcbiAgICAgIFwiUGxhc21hIExlYWtcIixcbiAgICAgIDcyLFxuICAgICAgbmV3IFZlY3Rvcihjb25maWcud2lkdGggLyAyIC0gMTc1LCAxMDAsIDApXG4gICAgKTtcblxuICAgIGdhbWUucmVuZGVyZXIuZHJhd1RleHQoXG4gICAgICBcIkEgcm9ndWUgcGxhc21hIGJlYW0gaXMgd3JlY2tpbmcgaGF2b2MgaW5zaWRlIG91ciBzcGFjZWNyYWZ0IVwiLFxuICAgICAgMjQsXG4gICAgICBuZXcgVmVjdG9yKDEwMCwgY29uZmlnLmhlaWdodCAtIDE1MCwgMClcbiAgICApO1xuICAgIGdhbWUucmVuZGVyZXIuZHJhd1RleHQoXG4gICAgICBcIlVzZSBlbGVjdHJpY2FsbHkgY2hhcmdlZCBwYXJ0aWNsZXMgdG8gYmVuZCB0aGUgcGxhc21hIGJlYW0gdG8gc2FmZXR5LlwiLFxuICAgICAgMjQsXG4gICAgICBuZXcgVmVjdG9yKDEwMCwgY29uZmlnLmhlaWdodCAtIDEwMCwgMClcbiAgICApO1xuICB9XG4gIGhhbmRsZUNvbGxpc2lvbnMoZ2FtZTogR2FtZSkge31cbn1cblxuZXhwb3J0IGNsYXNzIEVuZFNjZW5lIGV4dGVuZHMgU2NlbmUge1xuICBoYW5kbGVFdmVudChuYW1lOiBzdHJpbmcsIGV2ZW50OiBNb3VzZUV2ZW50LCBnYW1lOiBHYW1lKSB7XG4gICAgbGV0IHBvc2l0aW9uID0gbmV3IFZlY3RvcihldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZLCAwKTtcblxuICAgIHN3aXRjaCAobmFtZSkge1xuICAgICAgY2FzZSBcImNsaWNrXCI6IHtcbiAgICAgICAgZm9yIChsZXQgYnV0dG9uIG9mIHRoaXMuYnV0dG9ucykge1xuICAgICAgICAgIGlmIChidXR0b24uY29udGFpbnMocG9zaXRpb24pKSB7XG4gICAgICAgICAgICBidXR0b24uYWN0aW9uKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGluaXQoZ2FtZTogR2FtZSkge1xuICAgIHRoaXMuYnV0dG9ucy5wdXNoKFxuICAgICAgbmV3IEJ1dHRvbihcbiAgICAgICAgXCJQbGF5XCIsXG4gICAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gMiAtIDcwLCAyMDAsIDApLFxuICAgICAgICBuZXcgVmVjdG9yKDE1MCwgNjAsIDApLFxuICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgZ2FtZS5zd2l0Y2hTY2VuZShTY2VuZU5hbWUuTGV2ZWwpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuICByZW5kZXIoZ2FtZTogR2FtZSkge1xuICAgIGdhbWUucmVuZGVyZXIuY2xlYXIoKTtcblxuICAgIGdhbWUucmVuZGVyZXIuZHJhd1RleHQoXG4gICAgICBcIlBsYXNtYSBMZWFrXCIsXG4gICAgICA3MixcbiAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gMiAtIDE3NSwgMTAwLCAwKVxuICAgICk7XG5cbiAgICBnYW1lLnJlbmRlcmVyLmRyYXdUZXh0KFxuICAgICAgXCJXaW5cIixcbiAgICAgIDI1NixcbiAgICAgIG5ldyBWZWN0b3IoY29uZmlnLndpZHRoIC8gNCwgY29uZmlnLmhlaWdodCAvIDIsIDApXG4gICAgKTtcblxuICAgIGdhbWUucmVuZGVyZXIuZHJhd1RleHQoXG4gICAgICBcIllvdSB3b24hIEkgZGlkbid0IHRoaW5rIGFueW9uZSB3b3VsZCBnZXQgdGhpcyBmYXIsIGVzcGVjaWFsbHkgeW91LiBCdXQgY29uZ3JhdHMgYW55d2F5cy5cIixcbiAgICAgIDI0LFxuICAgICAgbmV3IFZlY3RvcigxMDAsIGNvbmZpZy5oZWlnaHQgLSAxNTAsIDApXG4gICAgKTtcbiAgICBnYW1lLnJlbmRlcmVyLmRyYXdUZXh0KFxuICAgICAgXCJJZiB5b3UgbGlrZWQgaXQsIHBsZWFzZSBsZXQgbWUga25vdyEgYzBucmFkQGMwbnJhZC5pbyAodGhvc2UgYXJlIHplcm8ncykuXCIsXG4gICAgICAyNCxcbiAgICAgIG5ldyBWZWN0b3IoMTAwLCBjb25maWcuaGVpZ2h0IC0gMTAwLCAwKVxuICAgICk7XG4gICAgZ2FtZS5yZW5kZXJlci5kcmF3VGV4dChcbiAgICAgIFwiIElmIHlvdSBoYXRlZCBpdCwgcGxlYXNlIGxldCBtZSBrbm93IGF0IHNwYW1AZ21haWwuY29tXCIsXG4gICAgICAyNCxcbiAgICAgIG5ldyBWZWN0b3IoMTAwLCBjb25maWcuaGVpZ2h0IC0gNTAsIDApXG4gICAgKTtcbiAgfVxuICBoYW5kbGVDb2xsaXNpb25zKGdhbWU6IEdhbWUpIHt9XG59XG4iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHRpZihfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdKSB7XG5cdFx0cmV0dXJuIF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0uZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IG1vZHVsZVsnZGVmYXVsdCddIDpcblx0XHQoKSA9PiBtb2R1bGU7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlXG5fX3dlYnBhY2tfcmVxdWlyZV9fKDIzOCk7XG4vLyBUaGlzIGVudHJ5IG1vZHVsZSB1c2VkICdleHBvcnRzJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG4iXSwic291cmNlUm9vdCI6IiJ9